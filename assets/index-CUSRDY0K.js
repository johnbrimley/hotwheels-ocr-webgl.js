(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const ds=!1;var _r=Array.isArray,Su=Array.prototype.indexOf,vr=Array.from,Tu=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,ma=Object.getOwnPropertyDescriptors,Au=Object.prototype,Fu=Array.prototype,Ps=Object.getPrototypeOf,Fo=Object.isExtensible;function wu(e){return typeof e=="function"}const In=()=>{};function Iu(e){return e()}function hs(e){for(var t=0;t<e.length;t++)e[t]()}function _a(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const te=2,Cs=4,pr=8,Pu=1<<24,Ge=16,et=32,Dt=64,xr=128,Te=512,J=1024,he=2048,Ae=4096,ve=8192,je=16384,br=32768,ft=65536,wo=1<<17,va=1<<18,dn=1<<19,pa=1<<20,We=1<<25,It=32768,ms=1<<21,Bs=1<<22,it=1<<23,Qe=Symbol("$state"),Cu=Symbol("legacy props"),Bu=Symbol(""),tn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ds(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Du(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Mu(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Nu(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ku(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Lu(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Uu(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gu(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ou(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Hu(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Vu(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const zu=1,Xu=2,xa=4,$u=8,Yu=16,qu=1,Ku=2,Wu=4,ju=8,Qu=16,Zu=4,Ju=2,se=Symbol(),ec="http://www.w3.org/1999/xhtml";function tc(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function nc(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ba(e){return e===this.v}function rc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ga(e){return!rc(e,this.v)}let hn=!1,sc=!1;function oc(){hn=!0}let $=null;function ln(e){$=e}function pe(e,t=!1,n){$={p:$,i:!1,c:null,e:null,s:e,x:null,l:hn&&!t?{s:null,u:null,$:[]}:null}}function xe(e){var t=$,n=t.e;if(n!==null){t.e=null;for(var r of n)Da(r)}return e!==void 0&&(t.x=e),t.i=!0,$=t.p,e??{}}function Vn(){return!hn||$!==null&&$.l===null}let nn=[];function ic(){var e=nn;nn=[],hs(e)}function Mt(e){if(nn.length===0){var t=nn;queueMicrotask(()=>{t===nn&&ic()})}nn.push(e)}function Ea(e){var t=O;if(t===null)return L.f|=it,e;if((t.f&br)===0){if((t.f&xr)===0)throw e;t.b.error(e)}else un(e,t)}function un(e,t){for(;t!==null;){if((t.f&xr)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const qn=new Set;let z=null,tr=null,ye=null,Ce=[],Ms=null,_s=!1;class Be{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#o=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){Ce=[],tr=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#i(r,n);this.is_fork||this.#c(),this.is_deferred()?(this.#a(n.effects),this.#a(n.render_effects)):(tr=this,z=null,Io(n.render_effects),Io(n.effects),tr=null,this.#l?.resolve()),ye=null}#i(t,n){t.f^=J;for(var r=t.first;r!==null;){var s=r.f,o=(s&(et|Dt))!==0,a=o&&(s&J)!==0,i=a||(s&ve)!==0||this.skipped_effects.has(r);if((r.f&xr)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!i&&r.fn!==null){o?r.f^=J:(s&Cs)!==0?n.effects.push(r):_n(r)&&((r.f&Ge)!==0&&this.#o.add(r),cn(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#a(n.effects),this.#a(n.render_effects),n=n.parent),r=u.next,u=u.parent}}#a(t){for(const n of t)(n.f&he)!==0?this.#o.add(n):(n.f&Ae)!==0&&this.#s.add(n),this.#u(n.deps),ee(n,J)}#u(t){if(t!==null)for(const n of t)(n.f&te)===0||(n.f&It)===0||(n.f^=It,this.#u(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&it)===0&&(this.current.set(t,t.v),ye?.set(t,t.v))}activate(){z=this,this.apply()}deactivate(){z===this&&(z=null,ye=null)}flush(){if(this.activate(),Ce.length>0){if(ac(),z!==null&&z!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#c(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(qn.size>1){this.previous.clear();var t=ye,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const o of qn){if(o===this){n=!1;continue}const a=[];for(const[l,u]of this.current){if(o.current.has(l))if(n&&u!==o.current.get(l))o.current.set(l,u);else continue;a.push(l)}if(a.length===0)continue;const i=[...o.current.keys()].filter(l=>!this.current.has(l));if(i.length>0){var s=Ce;Ce=[];const l=new Set,u=new Map;for(const c of a)ya(c,i,l,u);if(Ce.length>0){z=o,o.apply();for(const c of Ce)o.#i(c,r);o.deactivate()}Ce=s}}z=null,ye=t}this.committed=!0,qn.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#o)this.#s.delete(t),ee(t,he),Pt(t);for(const t of this.#s)ee(t,Ae),Pt(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=_a()).promise}static ensure(){if(z===null){const t=z=new Be;qn.add(z),Be.enqueue(()=>{z===t&&t.flush()})}return z}static enqueue(t){Mt(t)}apply(){}}function ac(){var e=Ft;_s=!0;var t=null;try{var n=0;for(ar(!0);Ce.length>0;){var r=Be.ensure();if(n++>1e3){var s,o;lc()}r.process(Ce),at.clear()}}finally{_s=!1,ar(e),Ms=null}}function lc(){try{Lu()}catch(e){un(e,Ms)}}let qe=null;function Io(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(je|ve))===0&&_n(r)&&(qe=new Set,cn(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?ka(r):r.fn=null),qe?.size>0)){at.clear();for(const s of qe){if((s.f&(je|ve))!==0)continue;const o=[s];let a=s.parent;for(;a!==null;)qe.has(a)&&(qe.delete(a),o.push(a)),a=a.parent;for(let i=o.length-1;i>=0;i--){const l=o[i];(l.f&(je|ve))===0&&cn(l)}}qe.clear()}}qe=null}}function ya(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const s of e.reactions){const o=s.f;(o&te)!==0?ya(s,t,n,r):(o&(Bs|Ge))!==0&&(o&he)===0&&Ra(s,t,r)&&(ee(s,he),Pt(s))}}function Ra(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(t.includes(s))return!0;if((s.f&te)!==0&&Ra(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function Pt(e){for(var t=Ms=e;t.parent!==null;){t=t.parent;var n=t.f;if(_s&&t===O&&(n&Ge)!==0&&(n&va)===0)return;if((n&(Dt|et))!==0){if((n&J)===0)return;t.f^=J}}Ce.push(t)}function uc(e){let t=0,n=Ct(0),r;return()=>{Ln()&&(p(n),yr(()=>(t===0&&(r=Fe(()=>e(()=>Nn(n)))),t+=1,()=>{Mt(()=>{t-=1,t===0&&(r?.(),r=void 0,Nn(n))})})))}}var cc=ft|dn|xr;function fc(e,t,n){new dc(e,t,n)}class dc{parent;#e=!1;#t;#r=null;#n;#l;#o;#s=null;#i=null;#a=null;#u=null;#c=null;#f=0;#d=0;#m=!1;#h=null;#b=uc(()=>(this.#h=Ct(this.#f),()=>{this.#h=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#l=r,this.parent=O.b,this.#e=!!this.#n.pending,this.#o=Rr(()=>{O.b=this;{var s=this.#p();try{this.#s=Ee(()=>r(s))}catch(o){this.error(o)}this.#d>0?this.#v():this.#e=!1}return()=>{this.#c?.remove()}},cc)}#g(){try{this.#s=Ee(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#E(){const t=this.#n.pending;t&&(this.#i=Ee(()=>t(this.#t)),Be.enqueue(()=>{var n=this.#p();this.#s=this.#_(()=>(Be.ensure(),Ee(()=>this.#l(n)))),this.#d>0?this.#v():(At(this.#i,()=>{this.#i=null}),this.#e=!1)}))}#p(){var t=this.#t;return this.#e&&(this.#c=lt(),this.#t.before(this.#c),t=this.#c),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(t){var n=O,r=L,s=$;Ne(this.#o),fe(this.#o),ln(this.#o.ctx);try{return t()}catch(o){return Ea(o),null}finally{Ne(n),fe(r),ln(s)}}#v(){const t=this.#n.pending;this.#s!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),Ga(this.#s,this.#u)),this.#i===null&&(this.#i=Ee(()=>t(this.#t)))}#x(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#x(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#i&&At(this.#i,()=>{this.#i=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(t){this.#x(t),this.#f+=t,this.#h&&Bt(this.#h,this.#f)}get_effect_pending(){return this.#b(),p(this.#h)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#m||!n&&!r)throw t;this.#s&&(de(this.#s),this.#s=null),this.#i&&(de(this.#i),this.#i=null),this.#a&&(de(this.#a),this.#a=null);var s=!1,o=!1;const a=()=>{if(s){nc();return}s=!0,o&&Vu(),Be.ensure(),this.#f=0,this.#a!==null&&At(this.#a,()=>{this.#a=null}),this.#e=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#m=!1,Ee(()=>this.#l(this.#t)))),this.#d>0?this.#v():this.#e=!1};var i=L;try{fe(null),o=!0,n?.(t,a),o=!1}catch(l){un(l,this.#o&&this.#o.parent)}finally{fe(i)}r&&Mt(()=>{this.#a=this.#_(()=>{Be.ensure(),this.#m=!0;try{return Ee(()=>{r(this.#t,()=>t,()=>a)})}catch(l){return un(l,this.#o.parent),null}finally{this.#m=!1}})})}}function hc(e,t,n,r){const s=Vn()?gr:st;if(n.length===0&&e.length===0){r(t.map(s));return}var o=z,a=O,i=mc();function l(){Promise.all(n.map(u=>_c(u))).then(u=>{i();try{r([...t.map(s),...u])}catch(c){(a.f&je)===0&&un(c,a)}o?.deactivate(),ir()}).catch(u=>{un(u,a)})}e.length>0?Promise.all(e).then(()=>{i();try{return l()}finally{o?.deactivate(),ir()}}):l()}function mc(){var e=O,t=L,n=$,r=z;return function(o=!0){Ne(e),fe(t),ln(n),o&&r?.activate()}}function ir(){Ne(null),fe(null),ln(null)}function gr(e){var t=te|he,n=L!==null&&(L.f&te)!==0?L:null;return O!==null&&(O.f|=dn),{ctx:$,deps:null,effects:null,equals:ba,f:t,fn:e,reactions:null,rv:0,v:se,wv:0,parent:n??O,ac:null}}function _c(e,t){let n=O;n===null&&Du();var r=n.b,s=void 0,o=Ct(se),a=!L,i=new Map;return Ac(()=>{var l=_a();s=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(()=>{u===z&&u.committed&&u.deactivate(),ir()})}catch(f){l.reject(f),ir()}var u=z;if(a){var c=!r.is_pending();r.update_pending_count(1),u.increment(c),i.get(u)?.reject(tn),i.delete(u),i.set(u,l)}const h=(f,d=void 0)=>{if(u.activate(),d)d!==tn&&(o.f|=it,Bt(o,d));else{(o.f&it)!==0&&(o.f^=it),Bt(o,f);for(const[m,_]of i){if(i.delete(m),m===u)break;_.reject(tn)}}a&&(r.update_pending_count(-1),u.decrement(c))};l.promise.then(h,f=>h(null,f||"unknown"))}),Er(()=>{for(const l of i.values())l.reject(tn)}),new Promise(l=>{function u(c){function h(){c===s?l(o):u(s)}c.then(h,h)}u(s)})}function st(e){const t=gr(e);return t.equals=ga,t}function Sa(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)de(t[n])}}function vc(e){for(var t=e.parent;t!==null;){if((t.f&te)===0)return(t.f&je)===0?t:null;t=t.parent}return null}function Ns(e){var t,n=O;Ne(vc(e));try{e.f&=~It,Sa(e),t=za(e)}finally{Ne(n)}return t}function Ta(e){var t=Ns(e);if(e.equals(t)||(z?.is_fork||(e.v=t),e.wv=Ha()),!Lt)if(ye!==null)(Ln()||z?.is_fork)&&ye.set(e,t);else{var n=(e.f&Te)===0?Ae:J;ee(e,n)}}let vs=new Set;const at=new Map;let Aa=!1;function Ct(e,t){var n={f:0,v:e,reactions:null,equals:ba,rv:0,wv:0};return n}function tt(e,t){const n=Ct(e);return Pc(n),n}function N(e,t=!1,n=!0){const r=Ct(e);return t||(r.equals=ga),hn&&n&&$!==null&&$.l!==null&&($.l.s??=[]).push(r),r}function S(e,t,n=!1){L!==null&&(!De||(L.f&wo)!==0)&&Vn()&&(L.f&(te|Ge|Bs|wo))!==0&&!Ze?.includes(e)&&Hu();let r=n?rn(t):t;return Bt(e,r)}function Bt(e,t){if(!e.equals(t)){var n=e.v;Lt?at.set(e,t):at.set(e,n),e.v=t;var r=Be.ensure();r.capture(e,n),(e.f&te)!==0&&((e.f&he)!==0&&Ns(e),ee(e,(e.f&Te)!==0?J:Ae)),e.wv=Ha(),Fa(e,he),Vn()&&O!==null&&(O.f&J)!==0&&(O.f&(et|Dt))===0&&(ge===null?Cc([e]):ge.push(e)),!r.is_fork&&vs.size>0&&!Aa&&pc()}return t}function pc(){Aa=!1;var e=Ft;ar(!0);const t=Array.from(vs);try{for(const n of t)(n.f&J)!==0&&ee(n,Ae),_n(n)&&cn(n)}finally{ar(e)}vs.clear()}function Nn(e){S(e,e.v+1)}function Fa(e,t){var n=e.reactions;if(n!==null)for(var r=Vn(),s=n.length,o=0;o<s;o++){var a=n[o],i=a.f;if(!(!r&&a===O)){var l=(i&he)===0;if(l&&ee(a,t),(i&te)!==0){var u=a;ye?.delete(u),(i&It)===0&&(i&Te&&(a.f|=It),Fa(u,Ae))}else l&&((i&Ge)!==0&&qe!==null&&qe.add(a),Pt(a))}}}function rn(e){if(typeof e!="object"||e===null||Qe in e)return e;const t=Ps(e);if(t!==Au&&t!==Fu)return e;var n=new Map,r=_r(e),s=tt(0),o=wt,a=i=>{if(wt===o)return i();var l=L,u=wt;fe(null),No(o);var c=i();return fe(l),No(u),c};return r&&n.set("length",tt(e.length)),new Proxy(e,{defineProperty(i,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Gu();var c=n.get(l);return c===void 0?c=a(()=>{var h=tt(u.value);return n.set(l,h),h}):S(c,u.value,!0),!0},deleteProperty(i,l){var u=n.get(l);if(u===void 0){if(l in i){const c=a(()=>tt(se));n.set(l,c),Nn(s)}}else S(u,se),Nn(s);return!0},get(i,l,u){if(l===Qe)return e;var c=n.get(l),h=l in i;if(c===void 0&&(!h||Tt(i,l)?.writable)&&(c=a(()=>{var d=rn(h?i[l]:se),m=tt(d);return m}),n.set(l,c)),c!==void 0){var f=p(c);return f===se?void 0:f}return Reflect.get(i,l,u)},getOwnPropertyDescriptor(i,l){var u=Reflect.getOwnPropertyDescriptor(i,l);if(u&&"value"in u){var c=n.get(l);c&&(u.value=p(c))}else if(u===void 0){var h=n.get(l),f=h?.v;if(h!==void 0&&f!==se)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(i,l){if(l===Qe)return!0;var u=n.get(l),c=u!==void 0&&u.v!==se||Reflect.has(i,l);if(u!==void 0||O!==null&&(!c||Tt(i,l)?.writable)){u===void 0&&(u=a(()=>{var f=c?rn(i[l]):se,d=tt(f);return d}),n.set(l,u));var h=p(u);if(h===se)return!1}return c},set(i,l,u,c){var h=n.get(l),f=l in i;if(r&&l==="length")for(var d=u;d<h.v;d+=1){var m=n.get(d+"");m!==void 0?S(m,se):d in i&&(m=a(()=>tt(se)),n.set(d+"",m))}if(h===void 0)(!f||Tt(i,l)?.writable)&&(h=a(()=>tt(void 0)),S(h,rn(u)),n.set(l,h));else{f=h.v!==se;var _=a(()=>rn(u));S(h,_)}var v=Reflect.getOwnPropertyDescriptor(i,l);if(v?.set&&v.set.call(c,u),!f){if(r&&typeof l=="string"){var x=n.get("length"),E=Number(l);Number.isInteger(E)&&E>=x.v&&S(x,E+1)}Nn(s)}return!0},ownKeys(i){p(s);var l=Reflect.ownKeys(i).filter(h=>{var f=n.get(h);return f===void 0||f.v!==se});for(var[u,c]of n)c.v!==se&&!(u in i)&&l.push(u);return l},setPrototypeOf(){Ou()}})}function Po(e){try{if(e!==null&&typeof e=="object"&&Qe in e)return e[Qe]}catch{}return e}function xc(e,t){return Object.is(Po(e),Po(t))}var Co,wa,Ia,Pa;function bc(){if(Co===void 0){Co=window,wa=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Ia=Tt(t,"firstChild").get,Pa=Tt(t,"nextSibling").get,Fo(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Fo(n)&&(n.__t=void 0)}}function lt(e=""){return document.createTextNode(e)}function ks(e){return Ia.call(e)}function zn(e){return Pa.call(e)}function G(e,t){return ks(e)}function ie(e,t=!1){{var n=ks(e);return n instanceof Comment&&n.data===""?zn(n):n}}function H(e,t=1,n=!1){let r=e;for(;t--;)r=zn(r);return r}function gc(e){e.textContent=""}function Ca(){return!1}let Bo=!1;function Ec(){Bo||(Bo=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function mn(e){var t=L,n=O;fe(null),Ne(null);try{return e()}finally{fe(t),Ne(n)}}function yc(e,t,n,r=n){e.addEventListener(t,()=>mn(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Ec()}function Ba(e){O===null&&(L===null&&ku(),Nu()),Lt&&Mu()}function Rc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Oe(e,t,n){var r=O;r!==null&&(r.f&ve)!==0&&(e|=ve);var s={ctx:$,deps:null,nodes:null,f:e|he|Te,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{cn(s),s.f|=br}catch(i){throw de(s),i}else t!==null&&Pt(s);var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&(o.f&dn)===0&&(o=o.first,(e&Ge)!==0&&(e&ft)!==0&&o!==null&&(o.f|=ft)),o!==null&&(o.parent=r,r!==null&&Rc(o,r),L!==null&&(L.f&te)!==0&&(e&Dt)===0)){var a=L;(a.effects??=[]).push(o)}return s}function Ln(){return L!==null&&!De}function Er(e){const t=Oe(pr,null,!1);return ee(t,J),t.teardown=e,t}function ps(e){Ba();var t=O.f,n=!L&&(t&et)!==0&&(t&br)===0;if(n){var r=$;(r.e??=[]).push(e)}else return Da(e)}function Da(e){return Oe(Cs|pa,e,!1)}function Sc(e){return Ba(),Oe(pr|pa,e,!0)}function Tc(e){Be.ensure();const t=Oe(Dt|dn,e,!0);return(n={})=>new Promise(r=>{n.outro?At(t,()=>{de(t),r(void 0)}):(de(t),r(void 0))})}function Ls(e){return Oe(Cs,e,!1)}function Nt(e,t){var n=$,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=yr(()=>{e(),!r.ran&&(r.ran=!0,Fe(t))})}function kt(){var e=$;yr(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&J)!==0&&ee(n,Ae),_n(n)&&cn(n),t.ran=!1}})}function Ac(e){return Oe(Bs|dn,e,!0)}function yr(e,t=0){return Oe(pr|t,e,!0)}function Se(e,t=[],n=[],r=[]){hc(r,t,n,s=>{Oe(pr,()=>e(...s.map(p)),!0)})}function Rr(e,t=0){var n=Oe(Ge|t,e,!0);return n}function Ee(e){return Oe(et|dn,e,!0)}function Ma(e){var t=e.teardown;if(t!==null){const n=Lt,r=L;Mo(!0),fe(null);try{t.call(null)}finally{Mo(n),fe(r)}}}function Na(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&mn(()=>{s.abort(tn)});var r=n.next;(n.f&Dt)!==0?n.parent=null:de(n,t),n=r}}function Fc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&et)===0&&de(t),t=n}}function de(e,t=!0){var n=!1;(t||(e.f&va)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(wc(e.nodes.start,e.nodes.end),n=!0),Na(e,t&&!n),lr(e,0),ee(e,je);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();Ma(e);var s=e.parent;s!==null&&s.first!==null&&ka(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function wc(e,t){for(;e!==null;){var n=e===t?null:zn(e);e.remove(),e=n}}function ka(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function At(e,t,n=!0){var r=[];La(e,r,!0);var s=()=>{n&&de(e),t&&t()},o=r.length;if(o>0){var a=()=>--o||s();for(var i of r)i.out(a)}else s()}function La(e,t,n){if((e.f&ve)===0){e.f^=ve;var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)(i.is_global||n)&&t.push(i);for(var s=e.first;s!==null;){var o=s.next,a=(s.f&ft)!==0||(s.f&et)!==0&&(e.f&Ge)!==0;La(s,t,a?n:!1),s=o}}}function Us(e){Ua(e,!0)}function Ua(e,t){if((e.f&ve)!==0){e.f^=ve,(e.f&J)===0&&(ee(e,he),Pt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&ft)!==0||(n.f&et)!==0;Ua(n,s?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const a of o)(a.is_global||t)&&a.in()}}function Ga(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var s=n===r?null:zn(n);t.append(n),n=s}}let en=null;function Ic(e){var t=en;try{if(en=new Set,Fe(e),t!==null)for(var n of en)t.add(n);return en}finally{en=t}}function Do(e){for(var t of Ic(e))Bt(t,t.v)}let Ft=!1;function ar(e){Ft=e}let Lt=!1;function Mo(e){Lt=e}let L=null,De=!1;function fe(e){L=e}let O=null;function Ne(e){O=e}let Ze=null;function Pc(e){L!==null&&(Ze===null?Ze=[e]:Ze.push(e))}let le=null,_e=0,ge=null;function Cc(e){ge=e}let Oa=1,Un=0,wt=Un;function No(e){wt=e}function Ha(){return++Oa}function _n(e){var t=e.f;if((t&he)!==0)return!0;if(t&te&&(e.f&=~It),(t&Ae)!==0){var n=e.deps;if(n!==null)for(var r=n.length,s=0;s<r;s++){var o=n[s];if(_n(o)&&Ta(o),o.wv>e.wv)return!0}(t&Te)!==0&&ye===null&&ee(e,J)}return!1}function Va(e,t,n=!0){var r=e.reactions;if(r!==null&&!Ze?.includes(e))for(var s=0;s<r.length;s++){var o=r[s];(o.f&te)!==0?Va(o,t,!1):t===o&&(n?ee(o,he):(o.f&J)!==0&&ee(o,Ae),Pt(o))}}function za(e){var t=le,n=_e,r=ge,s=L,o=Ze,a=$,i=De,l=wt,u=e.f;le=null,_e=0,ge=null,L=(u&(et|Dt))===0?e:null,Ze=null,ln(e.ctx),De=!1,wt=++Un,e.ac!==null&&(mn(()=>{e.ac.abort(tn)}),e.ac=null);try{e.f|=ms;var c=e.fn,h=c(),f=e.deps;if(le!==null){var d;if(lr(e,_e),f!==null&&_e>0)for(f.length=_e+le.length,d=0;d<le.length;d++)f[_e+d]=le[d];else e.deps=f=le;if(Ln()&&(e.f&Te)!==0)for(d=_e;d<f.length;d++)(f[d].reactions??=[]).push(e)}else f!==null&&_e<f.length&&(lr(e,_e),f.length=_e);if(Vn()&&ge!==null&&!De&&f!==null&&(e.f&(te|Ae|he))===0)for(d=0;d<ge.length;d++)Va(ge[d],e);return s!==null&&s!==e&&(Un++,ge!==null&&(r===null?r=ge:r.push(...ge))),(e.f&it)!==0&&(e.f^=it),h}catch(m){return Ea(m)}finally{e.f^=ms,le=t,_e=n,ge=r,L=s,Ze=o,ln(a),De=i,wt=l}}function Bc(e,t){let n=t.reactions;if(n!==null){var r=Su.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&te)!==0&&(le===null||!le.includes(t))&&(ee(t,Ae),(t.f&Te)!==0&&(t.f^=Te,t.f&=~It),Sa(t),lr(t,0))}function lr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Bc(e,n[r])}function cn(e){var t=e.f;if((t&je)===0){ee(e,J);var n=O,r=Ft;O=e,Ft=!0;try{(t&(Ge|Pu))!==0?Fc(e):Na(e),Ma(e);var s=za(e);e.teardown=typeof s=="function"?s:null,e.wv=Oa;var o;ds&&sc&&(e.f&he)!==0&&e.deps}finally{Ft=r,O=n}}}function p(e){var t=e.f,n=(t&te)!==0;if(en?.add(e),L!==null&&!De){var r=O!==null&&(O.f&je)!==0;if(!r&&!Ze?.includes(e)){var s=L.deps;if((L.f&ms)!==0)e.rv<Un&&(e.rv=Un,le===null&&s!==null&&s[_e]===e?_e++:le===null?le=[e]:le.includes(e)||le.push(e));else{(L.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[L]:o.includes(L)||o.push(L)}}}if(Lt){if(at.has(e))return at.get(e);if(n){var a=e,i=a.v;return((a.f&J)===0&&a.reactions!==null||$a(a))&&(i=Ns(a)),at.set(a,i),i}}else n&&(!ye?.has(e)||z?.is_fork&&!Ln())&&(a=e,_n(a)&&Ta(a),Ft&&Ln()&&(a.f&Te)===0&&Xa(a));if(ye?.has(e))return ye.get(e);if((e.f&it)!==0)throw e.v;return e.v}function Xa(e){if(e.deps!==null){e.f^=Te;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&te)!==0&&(t.f&Te)===0&&Xa(t)}}function $a(e){if(e.v===se)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(at.has(t)||(t.f&te)!==0&&$a(t))return!0;return!1}function Fe(e){var t=De;try{return De=!0,e()}finally{De=t}}const Dc=-7169;function ee(e,t){e.f=e.f&Dc|t}function ke(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Qe in e)xs(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Qe in n&&xs(n)}}}function xs(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{xs(e[r],t)}catch{}const n=Ps(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ma(n);for(let s in r){const o=r[s].get;if(o)try{o.call(e)}catch{}}}}}const Mc=["touchstart","touchmove"];function Nc(e){return Mc.includes(e)}const kc=new Set,ko=new Set;function Lc(e,t,n,r={}){function s(o){if(r.capture||Dn.call(t,o),!o.cancelBubble)return mn(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Mt(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function sn(e,t,n,r,s){var o={capture:r,passive:s},a=Lc(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Er(()=>{t.removeEventListener(e,a,o)})}let Lo=null;function Dn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],o=s[0]||e.target;Lo=e;var a=0,i=Lo===e&&e.__root;if(i){var l=s.indexOf(i);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;l<=u&&(a=l)}if(o=s[a]||e.target,o!==t){Tu(e,"currentTarget",{configurable:!0,get(){return o||n}});var c=L,h=O;fe(null),Ne(null);try{for(var f,d=[];o!==null;){var m=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];_!=null&&(!o.disabled||e.target===o)&&_.call(o,e)}catch(v){f?d.push(v):f=v}if(e.cancelBubble||m===t||m===null)break;o=m}if(f){for(let v of d)queueMicrotask(()=>{throw v});throw f}}finally{e.__root=t,delete e.currentTarget,fe(c),Ne(h)}}}function Uc(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ya(e,t){var n=O;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function ne(e,t){var n=(t&Ju)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=Uc(s?e:"<!>"+e),r=ks(r));var o=n||wa?document.importNode(r,!0):r.cloneNode(!0);return Ya(o,o),o}}function ae(){var e=document.createDocumentFragment(),t=document.createComment(""),n=lt();return e.append(t,n),Ya(t,n),e}function U(e,t){e!==null&&e.before(t)}let bs=!0;function Je(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Gc(e,t){return Oc(e,t)}const Wt=new Map;function Oc(e,{target:t,anchor:n,props:r={},events:s,context:o,intro:a=!0}){bc();var i=new Set,l=h=>{for(var f=0;f<h.length;f++){var d=h[f];if(!i.has(d)){i.add(d);var m=Nc(d);t.addEventListener(d,Dn,{passive:m});var _=Wt.get(d);_===void 0?(document.addEventListener(d,Dn,{passive:m}),Wt.set(d,1)):Wt.set(d,_+1)}}};l(vr(kc)),ko.add(l);var u=void 0,c=Tc(()=>{var h=n??t.appendChild(lt());return fc(h,{pending:()=>{}},f=>{if(o){pe({});var d=$;d.c=o}s&&(r.$$events=s),bs=a,u=e(f,r)||{},bs=!0,o&&xe()}),()=>{for(var f of i){t.removeEventListener(f,Dn);var d=Wt.get(f);--d===0?(document.removeEventListener(f,Dn),Wt.delete(f)):Wt.set(f,d)}ko.delete(l),h!==n&&h.parentNode?.removeChild(h)}});return Hc.set(u,c),u}let Hc=new WeakMap;class qa{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#o=()=>{var t=z;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)Us(r),this.#n.delete(n);else{var s=this.#r.get(n);s&&(this.#t.set(n,s.effect),this.#r.delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[o,a]of this.#e){if(this.#e.delete(o),o===t)break;const i=this.#r.get(a);i&&(de(i.effect),this.#r.delete(a))}for(const[o,a]of this.#t){if(o===n||this.#n.has(o))continue;const i=()=>{if(Array.from(this.#e.values()).includes(o)){var u=document.createDocumentFragment();Ga(a,u),u.append(lt()),this.#r.set(o,{effect:a,fragment:u})}else de(a);this.#n.delete(o),this.#t.delete(o)};this.#l||!r?(this.#n.add(o),At(a,i,!1)):i()}}};#s=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,s]of this.#r)n.includes(r)||(de(s.effect),this.#r.delete(r))};ensure(t,n){var r=z,s=Ca();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(s){var o=document.createDocumentFragment(),a=lt();o.append(a),this.#r.set(t,{effect:Ee(()=>n(a)),fragment:o})}else this.#t.set(t,Ee(()=>n(this.anchor)));if(this.#e.set(r,t),s){for(const[i,l]of this.#t)i===t?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[i,l]of this.#r)i===t?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(this.#o),r.ondiscard(this.#s)}else this.#o()}}function oe(e,t,n=!1){var r=new qa(e),s=n?ft:0;function o(a,i){r.ensure(a,i)}Rr(()=>{var a=!1;t((i,l=!0)=>{a=!0,o(l,i)}),a||o(!1,null)},s)}function Vc(e,t,n){for(var r=[],s=t.length,o,a=t.length,i=0;i<s;i++){let h=t[i];At(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var f=e.outrogroups;gs(vr(o.done)),f.delete(o),f.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var l=r.length===0&&n!==null;if(l){var u=n,c=u.parentNode;gc(c),c.append(u),e.items.clear()}gs(t,!l)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function gs(e,t=!0){for(var n=0;n<e.length;n++)de(e[n],t)}var Uo;function Es(e,t,n,r,s,o=null){var a=e,i=new Map,l=(t&xa)!==0;if(l){var u=e;a=u.appendChild(lt())}var c=null,h=st(()=>{var x=n();return _r(x)?x:x==null?[]:vr(x)}),f,d=!0;function m(){v.fallback=c,zc(v,f,a,t,r),c!==null&&(f.length===0?(c.f&We)===0?Us(c):(c.f^=We,Mn(c,null,a)):At(c,()=>{c=null}))}var _=Rr(()=>{f=p(h);for(var x=f.length,E=new Set,g=z,R=Ca(),b=0;b<x;b+=1){var T=f[b],A=r(T,b),I=d?null:i.get(A);I?(I.v&&Bt(I.v,T),I.i&&Bt(I.i,b),R&&g.skipped_effects.delete(I.e)):(I=Xc(i,d?a:Uo??=lt(),T,A,b,s,t,n),d||(I.e.f|=We),i.set(A,I)),E.add(A)}if(x===0&&o&&!c&&(d?c=Ee(()=>o(a)):(c=Ee(()=>o(Uo??=lt())),c.f|=We)),!d)if(R){for(const[y,F]of i)E.has(y)||g.skipped_effects.add(F.e);g.oncommit(m),g.ondiscard(()=>{})}else m();p(h)}),v={effect:_,items:i,outrogroups:null,fallback:c};d=!1}function zc(e,t,n,r,s){var o=(r&$u)!==0,a=t.length,i=e.items,l=e.effect.first,u,c=null,h,f=[],d=[],m,_,v,x;if(o)for(x=0;x<a;x+=1)m=t[x],_=s(m,x),v=i.get(_).e,(v.f&We)===0&&(v.nodes?.a?.measure(),(h??=new Set).add(v));for(x=0;x<a;x+=1){if(m=t[x],_=s(m,x),v=i.get(_).e,e.outrogroups!==null)for(const F of e.outrogroups)F.pending.delete(v),F.done.delete(v);if((v.f&We)!==0)if(v.f^=We,v===l)Mn(v,null,n);else{var E=c?c.next:l;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),nt(e,c,v),nt(e,v,E),Mn(v,E,n),c=v,f=[],d=[],l=c.next;continue}if((v.f&ve)!==0&&(Us(v),o&&(v.nodes?.a?.unfix(),(h??=new Set).delete(v))),v!==l){if(u!==void 0&&u.has(v)){if(f.length<d.length){var g=d[0],R;c=g.prev;var b=f[0],T=f[f.length-1];for(R=0;R<f.length;R+=1)Mn(f[R],g,n);for(R=0;R<d.length;R+=1)u.delete(d[R]);nt(e,b.prev,T.next),nt(e,c,b),nt(e,T,g),l=g,c=T,x-=1,f=[],d=[]}else u.delete(v),Mn(v,l,n),nt(e,v.prev,v.next),nt(e,v,c===null?e.effect.first:c.next),nt(e,c,v),c=v;continue}for(f=[],d=[];l!==null&&l!==v;)(u??=new Set).add(l),d.push(l),l=l.next;if(l===null)continue}(v.f&We)===0&&f.push(v),c=v,l=v.next}if(e.outrogroups!==null){for(const F of e.outrogroups)F.pending.size===0&&(gs(vr(F.done)),e.outrogroups?.delete(F));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||u!==void 0){var A=[];if(u!==void 0)for(v of u)(v.f&ve)===0&&A.push(v);for(;l!==null;)(l.f&ve)===0&&l!==e.fallback&&A.push(l),l=l.next;var I=A.length;if(I>0){var y=(r&xa)!==0&&a===0?n:null;if(o){for(x=0;x<I;x+=1)A[x].nodes?.a?.measure();for(x=0;x<I;x+=1)A[x].nodes?.a?.fix()}Vc(e,A,y)}}o&&Mt(()=>{if(h!==void 0)for(v of h)v.nodes?.a?.apply()})}function Xc(e,t,n,r,s,o,a,i){var l=(a&zu)!==0?(a&Yu)===0?N(n,!1,!1):Ct(n):null,u=(a&Xu)!==0?Ct(s):null;return{v:l,i:u,e:Ee(()=>(o(t,l??n,u??s,i),()=>{e.delete(r)}))}}function Mn(e,t,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,o=t&&(t.f&We)===0?t.nodes.start:n;r!==null;){var a=zn(r);if(o.before(r),r===s)return;r=a}}function nt(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function gt(e,t,n){var r=new qa(e);Rr(()=>{var s=t()??null;r.ensure(s,s&&(o=>n(o,s)))},ft)}const $c=()=>performance.now(),Ke={tick:e=>requestAnimationFrame(e),now:()=>$c(),tasks:new Set};function Ka(){const e=Ke.now();Ke.tasks.forEach(t=>{t.c(e)||(Ke.tasks.delete(t),t.f())}),Ke.tasks.size!==0&&Ke.tick(Ka)}function Yc(e){let t;return Ke.tasks.size===0&&Ke.tick(Ka),{promise:new Promise(n=>{Ke.tasks.add(t={c:e,f:n})}),abort(){Ke.tasks.delete(t)}}}function Kn(e,t){mn(()=>{e.dispatchEvent(new CustomEvent(t))})}function qc(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Go(e){const t={},n=e.split(";");for(const r of n){const[s,o]=r.split(":");if(!s||o===void 0)break;const a=qc(s.trim());t[a]=o.trim()}return t}const Kc=e=>e;function Wc(e,t,n,r){var s=(e&Zu)!==0,o="both",a,i=t.inert,l=t.style.overflow,u,c;function h(){return mn(()=>a??=n()(t,r?.()??{},{direction:o}))}var f={is_global:s,in(){t.inert=i,Kn(t,"introstart"),u=ys(t,h(),c,1,()=>{Kn(t,"introend"),u?.abort(),u=a=void 0,t.style.overflow=l})},out(v){t.inert=!0,Kn(t,"outrostart"),c=ys(t,h(),u,0,()=>{Kn(t,"outroend"),v?.()})},stop:()=>{u?.abort(),c?.abort()}},d=O;if((d.nodes.t??=[]).push(f),bs){var m=s;if(!m){for(var _=d.parent;_&&(_.f&ft)!==0;)for(;(_=_.parent)&&(_.f&Ge)===0;);m=!_||(_.f&br)!==0}m&&Ls(()=>{Fe(()=>f.in())})}}function ys(e,t,n,r,s){var o=r===1;if(wu(t)){var a,i=!1;return Mt(()=>{if(!i){var v=t({direction:o?"in":"out"});a=ys(e,v,n,r,s)}}),{abort:()=>{i=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n?.deactivate(),!t?.duration)return s(),{abort:In,deactivate:In,reset:In,t:()=>r};const{delay:l=0,css:u,tick:c,easing:h=Kc}=t;var f=[];if(o&&n===void 0&&(c&&c(0,1),u)){var d=Go(u(0,1));f.push(d,d)}var m=()=>1-r,_=e.animate(f,{duration:l,fill:"forwards"});return _.onfinish=()=>{_.cancel();var v=n?.t()??1-r;n?.abort();var x=r-v,E=t.duration*Math.abs(x),g=[];if(E>0){var R=!1;if(u)for(var b=Math.ceil(E/16.666666666666668),T=0;T<=b;T+=1){var A=v+x*h(T/b),I=Go(u(A,1-A));g.push(I),R||=I.overflow==="hidden"}R&&(e.style.overflow="hidden"),m=()=>{var y=_.currentTime;return v+x*h(y/E)},c&&Yc(()=>{if(_.playState!=="running")return!1;var y=m();return c(y,1-y),!0})}_=e.animate(g,{duration:E,fill:"forwards"}),_.onfinish=()=>{m=()=>r,c?.(r,1-r),s()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=In)},deactivate:()=>{s=In},reset:()=>{r===0&&c?.(1,0)},t:()=>m()}}const Oo=[...` 	
\r\fÂ \v\uFEFF`];function jc(e,t,n){var r=e==null?"":""+e;if(n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var o=s.length,a=0;(a=r.indexOf(s,a))>=0;){var i=a+o;(a===0||Oo.includes(r[a-1]))&&(i===r.length||Oo.includes(r[i]))?r=(a===0?"":r.substring(0,a))+r.substring(i+1):a=i}}return r===""?null:r}function Rs(e,t,n,r,s,o){var a=e.__className;if(a!==n||a===void 0){var i=jc(n,r,o);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}else if(o&&s!==o)for(var l in o){var u=!!o[l];(s==null||u!==!!s[l])&&e.classList.toggle(l,u)}return o}function Wa(e,t,n=!1){if(e.multiple){if(t==null)return;if(!_r(t))return tc();for(var r of e.options)r.selected=t.includes(kn(r));return}for(r of e.options){var s=kn(r);if(xc(s,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Qc(e){var t=new MutationObserver(()=>{Wa(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Er(()=>{t.disconnect()})}function Ho(e,t,n=t){var r=new WeakSet,s=!0;yc(e,"change",o=>{var a=o?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(a),kn);else{var l=e.querySelector(a)??e.querySelector("option:not([disabled])");i=l&&kn(l)}n(i),z!==null&&r.add(z)}),Ls(()=>{var o=t();if(e===document.activeElement){var a=tr??z;if(r.has(a))return}if(Wa(e,o,s),s&&o===void 0){var i=e.querySelector(":checked");i!==null&&(o=kn(i),n(o))}e.__value=o,s=!1}),Qc(e)}function kn(e){return"__value"in e?e.__value:e.value}const Zc=Symbol("is custom element"),Jc=Symbol("is html");function ef(e,t){var n=Gs(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function tf(e,t){var n=Gs(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function nr(e,t,n,r){var s=Gs(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Bu]=n),n==null?e.removeAttribute(t):typeof n!="string"&&nf(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Gs(e){return e.__attributes??={[Zc]:e.nodeName.includes("-"),[Jc]:e.namespaceURI===ec}}var Vo=new Map;function nf(e){var t=e.getAttribute("is")||e.nodeName,n=Vo.get(t);if(n)return n;Vo.set(t,n=[]);for(var r,s=e,o=Element.prototype;o!==s;){r=ma(s);for(var a in r)r[a].set&&n.push(a);s=Ps(s)}return n}function rf(e,t,n){var r=Tt(e,t);r&&r.set&&(e[t]=n,Er(()=>{e[t]=null}))}function zo(e,t){return e===t||e?.[Qe]===t}function os(e={},t,n,r){return Ls(()=>{var s,o;return yr(()=>{s=o,o=[],Fe(()=>{e!==n(...o)&&(t(e,...o),s&&zo(n(...s),e)&&t(null,...s))})}),()=>{Mt(()=>{o&&zo(n(...o),e)&&t(null,...o)})}}),e}function He(e=!1){const t=$,n=t.l.u;if(!n)return;let r=()=>ke(t.s);if(e){let s=0,o={};const a=gr(()=>{let i=!1;const l=t.s;for(const u in l)l[u]!==o[u]&&(o[u]=l[u],i=!0);return i&&s++,s});r=()=>p(a)}n.b.length&&Sc(()=>{Xo(t,r),hs(n.b)}),ps(()=>{const s=Fe(()=>n.m.map(Iu));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&ps(()=>{Xo(t,r),hs(n.a)})}function Xo(e,t){if(e.l.s)for(const n of e.l.s)p(n);t()}let Wn=!1;function sf(e){var t=Wn;try{return Wn=!1,[e(),Wn]}finally{Wn=t}}function q(e,t,n,r){var s=!hn||(n&Ku)!==0,o=(n&ju)!==0,a=(n&Qu)!==0,i=r,l=!0,u=()=>(l&&(l=!1,i=a?Fe(r):r),i),c;if(o){var h=Qe in e||Cu in e;c=Tt(e,t)?.set??(h&&t in e?g=>e[t]=g:void 0)}var f,d=!1;o?[f,d]=sf(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),c&&(s&&Uu(),c(f)));var m;if(s?m=()=>{var g=e[t];return g===void 0?u():(l=!0,g)}:m=()=>{var g=e[t];return g!==void 0&&(i=void 0),g===void 0?i:g},s&&(n&Wu)===0)return m;if(c){var _=e.$$legacy;return(function(g,R){return arguments.length>0?((!s||!R||_||d)&&c(R?m():g),g):m()})}var v=!1,x=((n&qu)!==0?gr:st)(()=>(v=!1,m()));o&&p(x);var E=O;return(function(g,R){if(arguments.length>0){const b=R?p(x):s&&o?rn(g):g;return S(x,b),v=!0,i!==void 0&&(i=b),g}return Lt&&v||(E.f&je)!==0?x.v:p(x)})}function ja(e){$===null&&Ds(),hn&&$.l!==null?lf($).m.push(e):ps(()=>{const t=Fe(e);if(typeof t=="function")return t})}function of(e){$===null&&Ds(),ja(()=>()=>Fe(e))}function af(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Os(){const e=$;return e===null&&Ds(),(t,n,r)=>{const s=e.s.$$events?.[t];if(s){const o=_r(s)?s.slice():[s],a=af(t,n,r);for(const i of o)i.call(e.x,a);return!a.defaultPrevented}return!0}}function lf(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const uf="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(uf);oc();let Hs=Float32Array;function Vs(e,t,n){const r=new Hs(3);return e&&(r[0]=e),t&&(r[1]=t),n&&(r[2]=n),r}function cf(e,t,n){return n=n||new Hs(3),n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function ff(e,t,n){return n=n||new Hs(3),n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}let Qa=Float32Array;function df(e){return e=e||new Qa(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hf(e,t){t=t||new Qa(16);const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],i=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],d=e[11],m=e[12],_=e[13],v=e[14],x=e[15],E=f*x,g=v*d,R=l*x,b=v*u,T=l*d,A=f*u,I=s*x,y=v*o,F=s*d,B=f*o,K=s*u,Q=l*o,me=c*_,be=m*h,Ie=a*_,Xe=m*i,$e=a*h,Ye=c*i,pt=n*_,Ut=m*r,Gt=n*h,Ot=c*r,xt=n*i,bt=a*r,gn=E*i+b*h+T*_-(g*i+R*h+A*_),En=g*r+I*h+B*_-(E*r+y*h+F*_),Ht=R*r+y*i+K*_-(b*r+I*i+Q*_),Yn=A*r+F*i+Q*h-(T*r+B*i+K*h),j=1/(n*gn+a*En+c*Ht+m*Yn);return t[0]=j*gn,t[1]=j*En,t[2]=j*Ht,t[3]=j*Yn,t[4]=j*(g*a+R*c+A*m-(E*a+b*c+T*m)),t[5]=j*(E*n+y*c+F*m-(g*n+I*c+B*m)),t[6]=j*(b*n+I*a+Q*m-(R*n+y*a+K*m)),t[7]=j*(T*n+B*a+K*c-(A*n+F*a+Q*c)),t[8]=j*(me*u+Xe*d+$e*x-(be*u+Ie*d+Ye*x)),t[9]=j*(be*o+pt*d+Ot*x-(me*o+Ut*d+Gt*x)),t[10]=j*(Ie*o+Ut*u+xt*x-(Xe*o+pt*u+bt*x)),t[11]=j*(Ye*o+Gt*u+bt*d-($e*o+Ot*u+xt*d)),t[12]=j*(Ie*f+Ye*v+be*l-($e*v+me*l+Xe*f)),t[13]=j*(Gt*v+me*s+Ut*f-(pt*f+Ot*v+be*s)),t[14]=j*(pt*l+bt*v+Xe*s-(xt*v+Ie*s+Ut*l)),t[15]=j*(xt*f+$e*s+Ot*l-(Gt*l+bt*f+Ye*s)),t}function mf(e,t,n){n=n||Vs();const r=t[0],s=t[1],o=t[2],a=r*e[3]+s*e[7]+o*e[11]+e[15];return n[0]=(r*e[0]+s*e[4]+o*e[8]+e[12])/a,n[1]=(r*e[1]+s*e[5]+o*e[9]+e[13])/a,n[2]=(r*e[2]+s*e[6]+o*e[10]+e[14])/a,n}function _f(e,t,n){n=n||Vs();const r=t[0],s=t[1],o=t[2];return n[0]=r*e[0]+s*e[4]+o*e[8],n[1]=r*e[1]+s*e[5]+o*e[9],n[2]=r*e[2]+s*e[6]+o*e[10],n}const zs=5120,Gn=5121,Xs=5122,$s=5123,Ys=5124,qs=5125,Ks=5126,vf=32819,pf=32820,xf=33635,bf=5131,gf=33640,Ef=35899,yf=35902,Rf=36269,Sf=34042,Za={};{const e=Za;e[zs]=Int8Array,e[Gn]=Uint8Array,e[Xs]=Int16Array,e[$s]=Uint16Array,e[Ys]=Int32Array,e[qs]=Uint32Array,e[Ks]=Float32Array,e[vf]=Uint16Array,e[pf]=Uint16Array,e[xf]=Uint16Array,e[bf]=Uint16Array,e[gf]=Uint32Array,e[Ef]=Uint32Array,e[yf]=Uint32Array,e[Rf]=Uint32Array,e[Sf]=Uint32Array}function Sr(e){if(e instanceof Int8Array)return zs;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return Gn;if(e instanceof Int16Array)return Xs;if(e instanceof Uint16Array)return $s;if(e instanceof Int32Array)return Ys;if(e instanceof Uint32Array)return qs;if(e instanceof Float32Array)return Ks;throw new Error("unsupported typed array type")}function Ja(e){if(e===Int8Array)return zs;if(e===Uint8Array||e===Uint8ClampedArray)return Gn;if(e===Int16Array)return Xs;if(e===Uint16Array)return $s;if(e===Int32Array)return Ys;if(e===Uint32Array)return qs;if(e===Float32Array)return Ks;throw new Error("unsupported typed array type")}function el(e){const t=Za[e];if(!t)throw new Error("unknown gl type");return t}const On=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function Tf(e,t,n){e.forEach(function(r){const s=t[r];s!==void 0&&(n[r]=s)})}function tl(...e){console.error(...e)}const $o=new Map;function Tr(e,t){if(!e||typeof e!="object")return!1;let n=$o.get(t);n||(n=new WeakMap,$o.set(t,n));let r=n.get(e);if(r===void 0){const s=Object.prototype.toString.call(e);r=s.substring(8,s.length-1)===t,n.set(e,r)}return r}function Af(e,t){return typeof WebGLBuffer<"u"&&Tr(t,"WebGLBuffer")}function nl(e,t){return typeof WebGLRenderbuffer<"u"&&Tr(t,"WebGLRenderbuffer")}function Ar(e,t){return typeof WebGLTexture<"u"&&Tr(t,"WebGLTexture")}function Ff(e,t){return typeof WebGLSampler<"u"&&Tr(t,"WebGLSampler")}const rl=35044,ut=34962,sl=34963,wf=34660,If=5120,Pf=5121,Cf=5122,Bf=5123,Df=5124,Mf=5125,ol=5126,il={attribPrefix:""};function Nf(e,t,n,r,s){e.bindBuffer(t,n),e.bufferData(t,r,s||rl)}function Ws(e,t,n,r){if(Af(e,t))return t;n=n||ut;const s=e.createBuffer();return Nf(e,n,s,t,r),s}function al(e){return e==="indices"}function kf(e){return e===Int8Array||e===Uint8Array}function js(e){return e.length?e:e.data}const Lf=/coord|texture/i,Uf=/color|colour/i;function Gf(e,t){let n;if(Lf.test(e)?n=2:Uf.test(e)?n=4:n=3,t%n>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${n} but ${t} values is not evenly divisible by ${n}. You should specify it.`);return n}function Qs(e,t,n){return e.numComponents||e.size||Gf(t,n||js(e).length)}function Fr(e,t){if(On(e))return e;if(On(e.data))return e.data;Array.isArray(e)&&(e={data:e});let n=e.type?Zs(e.type):void 0;return n||(al(t)?n=Uint16Array:n=Float32Array),new n(e.data)}function Of(e){return typeof e=="number"?e:e?Ja(e):ol}function Zs(e){return typeof e=="number"?el(e):e||Float32Array}function Hf(e,t){return{buffer:t.buffer,numValues:24,type:Of(t.type),arrayType:Zs(t.type)}}function Vf(e,t){const n=t.data||t,r=Zs(t.type),s=n*r.BYTES_PER_ELEMENT,o=e.createBuffer();return e.bindBuffer(ut,o),e.bufferData(ut,s,t.drawType||rl),{buffer:o,numValues:n,type:Ja(r),arrayType:r}}function zf(e,t,n){const r=Fr(t,n);return{arrayType:r.constructor,buffer:Ws(e,r,void 0,t.drawType),type:Sr(r),numValues:0}}function Xf(e,t){const n={};return Object.keys(t).forEach(function(r){if(!al(r)){const s=t[r],o=s.attrib||s.name||s.attribName||il.attribPrefix+r;if(s.value){if(!Array.isArray(s.value)&&!On(s.value))throw new Error("array.value is not array or typedarray");n[o]={value:s.value}}else{let a;s.buffer&&s.buffer instanceof WebGLBuffer?a=Hf:typeof s=="number"||typeof s.data=="number"?a=Vf:a=zf;const{buffer:i,type:l,numValues:u,arrayType:c}=a(e,s,r),h=s.normalize!==void 0?s.normalize:kf(c),f=Qs(s,r,u);n[o]={buffer:i,numComponents:f,type:l,normalize:h,stride:s.stride||0,offset:s.offset||0,divisor:s.divisor===void 0?void 0:s.divisor,drawType:s.drawType}}}}),e.bindBuffer(ut,null),n}function $f(e,t){return t===If||t===Pf?1:t===Cf||t===Bf?2:t===Df||t===Mf||t===ol?4:0}const on=["position","positions","a_position"];function Yf(e){let t,n;for(n=0;n<on.length&&(t=on[n],!(t in e));++n);n===on.length&&(t=Object.keys(e)[0]);const r=e[t],s=js(r).length;if(s===void 0)return 1;const o=Qs(r,t),a=s/o;if(s%o>0)throw new Error(`numComponents ${o} not correct for length ${s}`);return a}function qf(e,t){let n,r;for(r=0;r<on.length&&(n=on[r],!(n in t||(n=il.attribPrefix+n,n in t)));++r);r===on.length&&(n=Object.keys(t)[0]);const s=t[n];if(!s.buffer)return 1;e.bindBuffer(ut,s.buffer);const o=e.getBufferParameter(ut,wf);e.bindBuffer(ut,null);const a=$f(e,s.type),i=o/a,l=s.numComponents||s.size,u=i/l;if(u%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return u}function Kf(e,t,n){const r=Xf(e,t),s=Object.assign({},n||{});s.attribs=Object.assign({},n?n.attribs:{},r);const o=t.indices;if(o){const a=Fr(o,"indices");s.indices=Ws(e,a,sl),s.numElements=a.length,s.elementType=Sr(a)}else s.numElements||(s.numElements=qf(e,s.attribs));return s}function Wf(e,t,n){const r=n==="indices"?sl:ut,s=Fr(t,n);return Ws(e,s,r)}function jf(e,t){const n={};return Object.keys(t).forEach(function(r){n[r]=Wf(e,t[r],r)}),t.indices?(n.numElements=t.indices.length,n.elementType=Sr(Fr(t.indices))):n.numElements=Yf(t),n}const Rt=js,Qf=Qs;function ll(e,t){let n=0;return e.push=function(){for(let r=0;r<arguments.length;++r){const s=arguments[r];if(s instanceof Array||On(s))for(let o=0;o<s.length;++o)e[n++]=s[o];else e[n++]=s}},e.reset=function(r){n=r||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function D(e,t,n){const r=n||Float32Array;return ll(new r(e*t),e)}function Zf(e){return e!=="indices"}function Jf(e){const t=e.indices,n={},r=t.length;function s(o){const a=e[o],i=a.numComponents,l=D(i,r,a.constructor);for(let u=0;u<r;++u){const h=t[u]*i;for(let f=0;f<i;++f)l.push(a[h+f])}n[o]=l}return Object.keys(e).filter(Zf).forEach(s),n}function ed(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");const t=e.normal,n=t.length;for(let r=0;r<n;r+=9){const s=t[r+0],o=t[r+1],a=t[r+2],i=t[r+3],l=t[r+4],u=t[r+5],c=t[r+6],h=t[r+7],f=t[r+8];let d=s+i+c,m=o+l+h,_=a+u+f;const v=Math.sqrt(d*d+m*m+_*_);d/=v,m/=v,_/=v,t[r+0]=d,t[r+1]=m,t[r+2]=_,t[r+3]=d,t[r+4]=m,t[r+5]=_,t[r+6]=d,t[r+7]=m,t[r+8]=_}return e}function Js(e,t,n){const r=e.length,s=new Float32Array(3);for(let o=0;o<r;o+=3)n(t,[e[o],e[o+1],e[o+2]],s),e[o]=s[0],e[o+1]=s[1],e[o+2]=s[2]}function td(e,t,n){n=n||Vs();const r=t[0],s=t[1],o=t[2];return n[0]=r*e[0]+s*e[1]+o*e[2],n[1]=r*e[4]+s*e[5]+o*e[6],n[2]=r*e[8]+s*e[9]+o*e[10],n}function ul(e,t){return Js(e,t,_f),e}function cl(e,t){return Js(e,hf(t),td),e}function fl(e,t){return Js(e,t,mf),e}function dl(e,t){return Object.keys(e).forEach(function(n){const r=e[n];n.indexOf("pos")>=0?fl(r,t):n.indexOf("tan")>=0||n.indexOf("binorm")>=0?ul(r,t):n.indexOf("norm")>=0&&cl(r,t)}),e}function eo(e,t,n){return e=e||2,t=t||0,n=n||0,e*=.5,{position:{numComponents:2,data:[t+-1*e,n+-1*e,t+1*e,n+-1*e,t+-1*e,n+1*e,t+1*e,n+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function to(e,t,n,r,s){e=e||1,t=t||1,n=n||1,r=r||1,s=s||df();const o=(n+1)*(r+1),a=D(3,o),i=D(3,o),l=D(2,o);for(let f=0;f<=r;f++)for(let d=0;d<=n;d++){const m=d/n,_=f/r;a.push(e*m-e*.5,0,t*_-t*.5),i.push(0,1,0),l.push(m,_)}const u=n+1,c=D(3,n*r*2,Uint16Array);for(let f=0;f<r;f++)for(let d=0;d<n;d++)c.push((f+0)*u+d,(f+1)*u+d,(f+0)*u+d+1),c.push((f+1)*u+d,(f+1)*u+d+1,(f+0)*u+d+1);return dl({position:a,normal:i,texcoord:l,indices:c},s)}function no(e,t,n,r,s,o,a){if(t<=0||n<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");r=r||0,s=s||Math.PI,o=o||0,a=a||Math.PI*2;const i=s-r,l=a-o,u=(t+1)*(n+1),c=D(3,u),h=D(3,u),f=D(2,u);for(let _=0;_<=n;_++)for(let v=0;v<=t;v++){const x=v/t,E=_/n,g=l*x+o,R=i*E+r,b=Math.sin(g),T=Math.cos(g),A=Math.sin(R),I=Math.cos(R),y=T*A,F=I,B=b*A;c.push(e*y,e*F,e*B),h.push(y,F,B),f.push(1-x,E)}const d=t+1,m=D(3,t*n*2,Uint16Array);for(let _=0;_<t;_++)for(let v=0;v<n;v++)m.push((v+0)*d+_,(v+0)*d+_+1,(v+1)*d+_),m.push((v+1)*d+_,(v+0)*d+_+1,(v+1)*d+_+1);return{position:c,normal:h,texcoord:f,indices:m}}const nd=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function ro(e){e=e||1;const t=e/2,n=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],r=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],s=[[1,0],[0,0],[0,1],[1,1]],o=24,a=D(3,o),i=D(3,o),l=D(2,o),u=D(3,12,Uint16Array);for(let c=0;c<6;++c){const h=nd[c];for(let d=0;d<4;++d){const m=n[h[d]],_=r[c],v=s[d];a.push(m),i.push(_),l.push(v)}const f=4*c;u.push(f+0,f+1,f+2),u.push(f+0,f+2,f+3)}return{position:a,normal:i,texcoord:l,indices:u}}function wr(e,t,n,r,s,o,a){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(s<1)throw new Error("verticalSubdivisions must be 1 or greater");const i=o===void 0?!0:o,l=a===void 0?!0:a,u=(i?2:0)+(l?2:0),c=(r+1)*(s+1+u),h=D(3,c),f=D(3,c),d=D(2,c),m=D(3,r*(s+u/2)*2,Uint16Array),_=r+1,v=Math.atan2(e-t,n),x=Math.cos(v),E=Math.sin(v),g=i?-2:0,R=s+(l?2:0);for(let b=g;b<=R;++b){let T=b/s,A=n*T,I;b<0?(A=0,T=1,I=e):b>s?(A=n,T=1,I=t):I=e+(t-e)*(b/s),(b===-2||b===s+2)&&(I=0,T=0),A-=n/2;for(let y=0;y<_;++y){const F=Math.sin(y*Math.PI*2/r),B=Math.cos(y*Math.PI*2/r);h.push(F*I,A,B*I),b<0?f.push(0,-1,0):b>s?f.push(0,1,0):I===0?f.push(0,0,0):f.push(F*x,E,B*x),d.push(y/r,1-T)}}for(let b=0;b<s+u;++b)if(!(b===1&&i||b===s+u-2&&l))for(let T=0;T<r;++T)m.push(_*(b+0)+0+T,_*(b+0)+1+T,_*(b+1)+1+T),m.push(_*(b+0)+0+T,_*(b+1)+1+T,_*(b+1)+0+T);return{position:h,normal:f,texcoord:d,indices:m}}function Yo(e,t){t=t||[];const n=[];for(let r=0;r<e.length;r+=4){const s=e[r],o=e.slice(r+1,r+4);o.push.apply(o,t);for(let a=0;a<s;++a)n.push.apply(n,o)}return n}function so(){const e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=[.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0],n=Yo([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=Yo([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),s=e.length/3,o={position:D(3,s),texcoord:D(2,s),normal:D(3,s),color:D(4,s,Uint8Array),indices:D(3,s/3,Uint16Array)};o.position.push(e),o.texcoord.push(t),o.normal.push(n),o.color.push(r);for(let a=0;a<s;++a)o.indices.push(a);return o}function Ir(e,t,n,r,s,o,a){if(s<=0)throw new Error("subdivisionDown must be > 0");o=o||0,a=a||1;const i=2,l=a-o,u=(s+1)*2*(2+i),c=D(3,u),h=D(3,u),f=D(2,u);function d(E,g,R){return E+(g-E)*R}function m(E,g,R,b,T,A){for(let I=0;I<=s;I++){const y=g/(i-1),F=I/s,B=(y-.5)*2,K=(o+F*l)*Math.PI,Q=Math.sin(K),me=Math.cos(K),be=d(e,E,Q),Ie=B*r,Xe=me*e,$e=Q*be;c.push(Ie,Xe,$e);const Ye=cf(ff([0,Q,me],R),b);h.push(Ye),f.push(y*T+A,F)}}for(let E=0;E<i;E++){const g=(E/(i-1)-.5)*2;m(t,E,[1,1,1],[0,0,0],1,0),m(t,E,[0,0,0],[g,0,0],0,0),m(n,E,[1,1,1],[0,0,0],1,0),m(n,E,[0,0,0],[g,0,0],0,1)}const _=D(3,s*2*(2+i),Uint16Array);function v(E,g){for(let R=0;R<s;++R)_.push(E+R+0,E+R+1,g+R+0),_.push(E+R+1,g+R+1,g+R+0)}const x=s+1;return v(x*0,x*4),v(x*5,x*7),v(x*6,x*2),v(x*3,x*1),{position:c,normal:h,texcoord:f,indices:_}}function oo(e,t,n,r,s,o){return wr(e,e,t,n,r,s,o)}function io(e,t,n,r,s,o){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(r<3)throw new Error("verticalSubdivisions must be 3 or greater");s=s||0,o=o||Math.PI*2;const a=o-s,i=n+1,l=r+1,u=i*l,c=D(3,u),h=D(3,u),f=D(2,u),d=D(3,n*r*2,Uint16Array);for(let m=0;m<l;++m){const _=m/r,v=_*Math.PI*2,x=Math.sin(v),E=e+x*t,g=Math.cos(v),R=g*t;for(let b=0;b<i;++b){const T=b/n,A=s+T*a,I=Math.sin(A),y=Math.cos(A),F=I*E,B=y*E,K=I*x,Q=y*x;c.push(F,R,B),h.push(K,g,Q),f.push(T,1-_)}}for(let m=0;m<r;++m)for(let _=0;_<n;++_){const v=1+_,x=1+m;d.push(i*m+_,i*x+_,i*m+v),d.push(i*x+_,i*x+v,i*m+v)}return{position:c,normal:h,texcoord:f,indices:d}}function ao(e,t,n,r,s){if(t<3)throw new Error("divisions must be at least 3");n=n||1,s=s||1,r=r||0;const o=(t+1)*(n+1),a=D(3,o),i=D(3,o),l=D(2,o),u=D(3,n*t*2,Uint16Array);let c=0;const h=e-r,f=t+1;for(let d=0;d<=n;++d){const m=r+h*Math.pow(d/n,s);for(let _=0;_<=t;++_){const v=2*Math.PI*_/t,x=m*Math.cos(v),E=m*Math.sin(v);if(a.push(x,0,E),i.push(0,1,0),l.push(1-_/t,d/n),d>0&&_!==t){const g=c+(_+1),R=c+_,b=c+_-f,T=c+(_+1)-f;u.push(g,R,b),u.push(g,b,T)}}c+=t+1}return{position:a,normal:i,texcoord:l,indices:u}}function rd(e){return Math.random()*e|0}function sd(e,t){t=t||{};const n=e.position.numElements,r=D(4,n,Uint8Array),s=t.rand||function(o,a){return a<3?rd(256):255};if(e.color=r,e.indices)for(let o=0;o<n;++o)r.push(s(o,0),s(o,1),s(o,2),s(o,3));else{const o=t.vertsPerColor||3,a=n/o;for(let i=0;i<a;++i){const l=[s(i,0),s(i,1),s(i,2),s(i,3)];for(let u=0;u<o;++u)r.push(l)}}return e}function Ve(e){return function(t){const n=e.apply(this,Array.prototype.slice.call(arguments,1));return jf(t,n)}}function ze(e){return function(t){const n=e.apply(null,Array.prototype.slice.call(arguments,1));return Kf(t,n)}}const od=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function Ss(e,t,n,r){r=r||0;const s=e.length;for(let o=0;o<s;++o)t[n+o]=e[o]+r}function hl(e,t){const n=Rt(e),r=new n.constructor(t);let s=r;return n.numComponents&&n.numElements&&ll(r,n.numComponents),e.data&&(s={data:r},Tf(od,e,s)),s}function id(e){const t={};let n;for(let i=0;i<e.length;++i){const l=e[i];Object.keys(l).forEach(function(u){t[u]||(t[u]=[]),!n&&u!=="indices"&&(n=u);const c=l[u],h=Qf(c,u),d=Rt(c).length/h;t[u].push(d)})}function r(i){let l=0,u;for(let c=0;c<e.length;++c){const f=e[c][i],d=Rt(f);l+=d.length,(!u||f.data)&&(u=f)}return{length:l,spec:u}}function s(i,l,u){let c=0,h=0;for(let f=0;f<e.length;++f){const m=e[f][i],_=Rt(m);i==="indices"?(Ss(_,u,h,c),c+=l[f]):Ss(_,u,h),h+=_.length}}const o=t[n],a={};return Object.keys(t).forEach(function(i){const l=r(i),u=hl(l.spec,l.length);s(i,o,Rt(u)),a[i]=u}),a}function ad(e){const t={};return Object.keys(e).forEach(function(n){const r=e[n],s=Rt(r),o=hl(r,s.length);Ss(s,Rt(o),0),t[n]=o}),t}const ld=ze(so),ud=Ve(so),cd=ze(ro),fd=Ve(ro),dd=ze(to),hd=Ve(to),md=ze(no),_d=Ve(no),vd=ze(wr),pd=Ve(wr),xd=ze(eo),bd=Ve(eo),ml=ze(Ir),_l=Ve(Ir),gd=ze(oo),Ed=Ve(oo),yd=ze(io),Rd=Ve(io),Sd=ze(ao),Td=Ve(ao),Ad=ml,Fd=_l,wd=Ir;var vl=Object.freeze({__proto__:null,create3DFBufferInfo:ld,create3DFBuffers:ud,create3DFVertices:so,createAugmentedTypedArray:D,createCubeBufferInfo:cd,createCubeBuffers:fd,createCubeVertices:ro,createPlaneBufferInfo:dd,createPlaneBuffers:hd,createPlaneVertices:to,createSphereBufferInfo:md,createSphereBuffers:_d,createSphereVertices:no,createTruncatedConeBufferInfo:vd,createTruncatedConeBuffers:pd,createTruncatedConeVertices:wr,createXYQuadBufferInfo:xd,createXYQuadBuffers:bd,createXYQuadVertices:eo,createCresentBufferInfo:Ad,createCresentBuffers:Fd,createCresentVertices:wd,createCrescentBufferInfo:ml,createCrescentBuffers:_l,createCrescentVertices:Ir,createCylinderBufferInfo:gd,createCylinderBuffers:Ed,createCylinderVertices:oo,createTorusBufferInfo:yd,createTorusBuffers:Rd,createTorusVertices:io,createDiscBufferInfo:Sd,createDiscBuffers:Td,createDiscVertices:ao,deindexVertices:Jf,flattenNormals:ed,makeRandomVertexColors:sd,reorientDirections:ul,reorientNormals:cl,reorientPositions:fl,reorientVertices:dl,concatVertices:id,duplicateVertices:ad});function Xn(e){return!!e.texStorage2D}const pl=(function(){const e={},t={};function n(r){const s=r.constructor.name;if(!e[s]){for(const o in r)if(typeof r[o]=="number"){const a=t[r[o]];t[r[o]]=a?`${a} | ${o}`:o}e[s]=!0}}return function(s,o){return n(s),t[o]||(typeof o=="number"?`0x${o.toString(16)}`:o)}})(),Pn=void 0,ht={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},fn=On,xl=(function(){let e;return function(){return e=e||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}})(),qo=6406,Pe=6407,Y=6408,Ko=6409,Wo=6410,Cn=6402,jo=34041,ur=33071,is=9728,as=9729,Id=9986,Le=3553,Ue=34067,mt=32879,dt=35866,Pr=34069,Pd=34070,Cd=34071,Bd=34072,Dd=34073,Md=34074,cr=10241,fr=10240,dr=10242,hr=10243,Qo=32882,Nd=33082,kd=33083,Ld=33084,Ud=33085,Gd=34892,Od=34893,lo=3317,bl=3314,gl=32878,El=3316,yl=3315,Rl=32877,rr=37443,sr=37441,or=37440,Hd=33321,Vd=36756,zd=33325,Xd=33326,$d=33330,Yd=33329,qd=33338,Kd=33337,Wd=33340,jd=33339,Qd=33323,Zd=36757,Jd=33327,e0=33328,t0=33336,n0=33335,r0=33332,s0=33331,o0=33334,i0=33333,a0=32849,l0=35905,u0=36194,c0=36758,f0=35898,d0=35901,h0=34843,m0=34837,_0=36221,v0=36239,p0=36215,x0=36233,b0=36209,g0=36227,E0=32856,y0=35907,R0=36759,S0=32855,T0=32854,A0=32857,F0=34842,w0=34836,I0=36220,P0=36238,C0=36975,B0=36214,D0=36232,M0=36226,N0=36208,k0=33189,L0=33190,U0=36012,G0=36013,O0=35056,rt=5120,X=5121,jn=5122,jt=5123,Qn=5124,Et=5125,re=5126,Zo=32819,Jo=32820,ei=33635,Re=5131,Bn=36193,ls=33640,H0=35899,V0=35902,z0=36269,X0=34042,Zn=33319,Qt=33320,Jn=6403,Zt=36244,Jt=36248,yt=36249,ti=33776,ni=33777,ri=33778,si=33779,oi=35916,ii=35917,ai=35918,li=35919,ui=36196,ci=37488,fi=37489,di=37490,hi=37491,mi=37492,_i=37493,vi=37494,pi=37495,xi=37496,bi=37497,gi=35840,Ei=35841,yi=35842,Ri=35843,Si=37808,Ti=37809,Ai=37810,Fi=37811,wi=37812,Ii=37813,Pi=37814,Ci=37815,Bi=37816,Di=37817,Mi=37818,Ni=37819,ki=37820,Li=37821,Ui=37840,Gi=37841,Oi=37842,Hi=37843,Vi=37844,zi=37845,Xi=37846,$i=37847,Yi=37848,qi=37849,Ki=37850,Wi=37851,ji=37852,Qi=37853,Zi=36492,Ji=36493,ea=36494,ta=36495,na=36283,ra=36284,sa=36285,oa=36286;let us;function vn(e){if(!us){const n={};n[qo]={textureFormat:qo,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[X,Re,Bn,re]},n[Ko]={textureFormat:Ko,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[X,Re,Bn,re]},n[Wo]={textureFormat:Wo,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[X,Re,Bn,re]},n[Pe]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[X,Re,Bn,re,ei]},n[Y]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[X,Re,Bn,re,Zo,Jo]},n[Cn]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Et,jt]},n[Hd]={textureFormat:Jn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[X]},n[Vd]={textureFormat:Jn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[rt]},n[zd]={textureFormat:Jn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[re,Re]},n[Xd]={textureFormat:Jn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[re]},n[$d]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[X]},n[Yd]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[rt]},n[r0]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[jt]},n[s0]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[jn]},n[o0]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Et]},n[i0]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Qn]},n[Qd]={textureFormat:Zn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[X]},n[Zd]={textureFormat:Zn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[rt]},n[Jd]={textureFormat:Zn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[re,Re]},n[e0]={textureFormat:Zn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[re]},n[t0]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[X]},n[n0]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[rt]},n[qd]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[jt]},n[Kd]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[jn]},n[Wd]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Et]},n[jd]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Qn]},n[a0]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[X]},n[l0]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[X]},n[u0]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[X,ei]},n[c0]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[rt]},n[f0]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[re,Re,H0]},n[d0]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[re,Re,V0]},n[h0]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[re,Re]},n[m0]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[re]},n[_0]={textureFormat:Jt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[X]},n[v0]={textureFormat:Jt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[rt]},n[p0]={textureFormat:Jt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[jt]},n[x0]={textureFormat:Jt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[jn]},n[b0]={textureFormat:Jt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Et]},n[g0]={textureFormat:Jt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Qn]},n[E0]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[X]},n[y0]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[X]},n[R0]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[rt]},n[S0]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[X,Jo,ls]},n[T0]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[X,Zo]},n[A0]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[ls]},n[F0]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[re,Re]},n[w0]={textureFormat:Y,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[re]},n[I0]={textureFormat:yt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[X]},n[P0]={textureFormat:yt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[rt]},n[C0]={textureFormat:yt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ls]},n[B0]={textureFormat:yt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[jt]},n[D0]={textureFormat:yt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[jn]},n[M0]={textureFormat:yt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Qn]},n[N0]={textureFormat:yt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Et]},n[k0]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[jt,Et]},n[L0]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Et]},n[U0]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[re]},n[O0]={textureFormat:jo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[X0]},n[G0]={textureFormat:jo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[z0]},Object.keys(n).forEach(function(o){const a=n[o];a.bytesPerElementMap={},a.bytesPerElement.forEach(function(i,l){const u=a.type[l];a.bytesPerElementMap[u]=i})});const r={bytes:8,width:4,height:4},s={bytes:16,width:4,height:4};n[ti]={textureFormat:ti,colorRenderable:!1,textureFilterable:!0,block:r},n[ni]={textureFormat:ni,colorRenderable:!1,textureFilterable:!0,block:r},n[ri]={textureFormat:ri,colorRenderable:!1,textureFilterable:!0,block:s},n[si]={textureFormat:si,colorRenderable:!1,textureFilterable:!0,block:s},n[oi]={textureFormat:oi,colorRenderable:!1,textureFilterable:!0,block:r},n[ii]={textureFormat:ii,colorRenderable:!1,textureFilterable:!0,block:r},n[ai]={textureFormat:ai,colorRenderable:!1,textureFilterable:!0,block:s},n[li]={textureFormat:li,colorRenderable:!1,textureFilterable:!0,block:s},n[ui]={textureFormat:ui,colorRenderable:!1,textureFilterable:!0,block:r},n[ci]={textureFormat:ci,colorRenderable:!1,textureFilterable:!0,block:r},n[fi]={textureFormat:fi,colorRenderable:!1,textureFilterable:!0,block:r},n[di]={textureFormat:di,colorRenderable:!1,textureFilterable:!0,block:s},n[hi]={textureFormat:hi,colorRenderable:!1,textureFilterable:!0,block:s},n[mi]={textureFormat:mi,colorRenderable:!1,textureFilterable:!0,block:r},n[_i]={textureFormat:_i,colorRenderable:!1,textureFilterable:!0,block:r},n[vi]={textureFormat:vi,colorRenderable:!1,textureFilterable:!0,block:r},n[pi]={textureFormat:pi,colorRenderable:!1,textureFilterable:!0,block:r},n[xi]={textureFormat:xi,colorRenderable:!1,textureFilterable:!0,block:s},n[bi]={textureFormat:bi,colorRenderable:!1,textureFilterable:!0,block:s},n[gi]={textureFormat:gi,colorRenderable:!1,textureFilterable:!0,block:{bytes:32,width:8,height:8}},n[Ei]={textureFormat:Ei,colorRenderable:!1,textureFilterable:!0,block:{bytes:32,width:16,height:8}},n[yi]={textureFormat:yi,colorRenderable:!1,textureFilterable:!0,block:{bytes:32,width:8,height:8}},n[Ri]={textureFormat:Ri,colorRenderable:!1,textureFilterable:!0,block:{bytes:32,width:16,height:8}},n[Si]={textureFormat:Si,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:4,height:4}},n[Ti]={textureFormat:Ti,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:5,height:4}},n[Ai]={textureFormat:Ai,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:5,height:5}},n[Fi]={textureFormat:Fi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:6,height:5}},n[wi]={textureFormat:wi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:6,height:6}},n[Ii]={textureFormat:Ii,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:8,height:5}},n[Pi]={textureFormat:Pi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:8,height:6}},n[Ci]={textureFormat:Ci,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:8,height:8}},n[Bi]={textureFormat:Bi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:10,height:5}},n[Di]={textureFormat:Di,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:10,height:6}},n[Mi]={textureFormat:Mi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:10,height:8}},n[Ni]={textureFormat:Ni,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:10,height:10}},n[ki]={textureFormat:ki,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:12,height:10}},n[Li]={textureFormat:Li,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:12,height:12}},n[Ui]={textureFormat:Ui,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:4,height:4}},n[Gi]={textureFormat:Gi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:5,height:4}},n[Oi]={textureFormat:Oi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:5,height:5}},n[Hi]={textureFormat:Hi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:6,height:5}},n[Vi]={textureFormat:Vi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:6,height:6}},n[zi]={textureFormat:zi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:8,height:5}},n[Xi]={textureFormat:Xi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:8,height:6}},n[$i]={textureFormat:$i,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:8,height:8}},n[Yi]={textureFormat:Yi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:10,height:5}},n[qi]={textureFormat:qi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:10,height:6}},n[Ki]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:10,height:8}},n[Wi]={textureFormat:Wi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:10,height:10}},n[ji]={textureFormat:ji,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:12,height:10}},n[Qi]={textureFormat:Qi,colorRenderable:!1,textureFilterable:!0,block:{bytes:16,width:12,height:12}},n[Zi]={textureFormat:Zi,colorRenderable:!1,textureFilterable:!0,block:s},n[Ji]={textureFormat:Ji,colorRenderable:!1,textureFilterable:!0,block:s},n[ea]={textureFormat:ea,colorRenderable:!1,textureFilterable:!0,block:s},n[ta]={textureFormat:ta,colorRenderable:!1,textureFilterable:!0,block:s},n[na]={textureFormat:na,colorRenderable:!1,textureFilterable:!0,block:r},n[ra]={textureFormat:ra,colorRenderable:!1,textureFilterable:!0,block:r},n[sa]={textureFormat:sa,colorRenderable:!1,textureFilterable:!0,block:r},n[oa]={textureFormat:oa,colorRenderable:!1,textureFilterable:!0,block:r},us=n}const t=us[e];if(!t)throw new Error("unknown internal format");return t}function Sl(e,t){const r=vn(e).bytesPerElementMap[t];if(r===void 0)throw new Error("type not supported for internal format");return r}function pn(e){const t=vn(e);if(!t)throw new Error("unknown internal format");return{format:t.textureFormat,type:t.type?.[0]??X}}function Tl(e){return!!vn(e).block}function $0(e,t){const n=vn(e);return n.block?{blockWidth:n.block.width,blockHeight:n.block.height,bytesPerBlock:n.block.bytes}:{blockWidth:1,blockHeight:1,bytesPerBlock:Sl(e,t)}}function ia(e){return(e&e-1)===0}function Y0(e,t,n,r){if(!Xn(e))return ia(t)&&ia(n);const s=vn(r);return s.colorRenderable&&s.textureFilterable}function cs(e){return vn(e).textureFilterable}function Al(e,t,n){return fn(t)?Sr(t):n||X}function er(e,t,n,r,s){if(s%1!==0)throw new Error("can't guess dimensions");if(!n&&!r){const o=Math.sqrt(s/(t===Ue?6:1));o%1===0?(n=o,r=o):(n=s,r=1)}else if(r){if(!n&&(n=s/r,n%1))throw new Error("can't guess dimensions")}else if(r=s/n,r%1)throw new Error("can't guess dimensions");return{width:n,height:r}}function ot(e,t,n){let r,s,o;t.colorspaceConversion!==void 0&&(r=e.getParameter(rr),e.pixelStorei(rr,t.colorspaceConversion)),t.premultiplyAlpha!==void 0&&(s=e.getParameter(sr),e.pixelStorei(sr,t.premultiplyAlpha)),t.flipY!==void 0&&(o=e.getParameter(or),e.pixelStorei(or,t.flipY)),n(),r!==void 0&&e.pixelStorei(rr,r),s!==void 0&&e.pixelStorei(sr,s),o!==void 0&&e.pixelStorei(or,o)}function fs(e,t,n,r){const s=t[n];return{[n]:s===void 0?e.getParameter(r):s}}function uo(e,t){return{...t,...fs(e,t,"flipY",or),...fs(e,t,"premultiplyAlpha",sr),...fs(e,t,"colorspaceConversion",rr)}}function Fl(e){e.pixelStorei(lo,4),Xn(e)&&(e.pixelStorei(bl,0),e.pixelStorei(gl,0),e.pixelStorei(El,0),e.pixelStorei(yl,0),e.pixelStorei(Rl,0))}function q0(e,t,n,r){r.minMag&&(n.call(e,t,cr,r.minMag),n.call(e,t,fr,r.minMag)),r.min&&n.call(e,t,cr,r.min),r.mag&&n.call(e,t,fr,r.mag),r.wrap&&(n.call(e,t,dr,r.wrap),n.call(e,t,hr,r.wrap),(t===mt||Ff(e,t))&&n.call(e,t,Qo,r.wrap)),r.wrapR&&n.call(e,t,Qo,r.wrapR),r.wrapS&&n.call(e,t,dr,r.wrapS),r.wrapT&&n.call(e,t,hr,r.wrapT),r.minLod!==void 0&&n.call(e,t,Nd,r.minLod),r.maxLod!==void 0&&n.call(e,t,kd,r.maxLod),r.baseLevel!==void 0&&n.call(e,t,Ld,r.baseLevel),r.maxLevel!==void 0&&n.call(e,t,Ud,r.maxLevel),r.compareFunc!==void 0&&n.call(e,t,Od,r.compareFunc),r.compareMode!==void 0&&n.call(e,t,Gd,r.compareMode)}function wl(e,t,n){const r=n.target||Le;e.bindTexture(r,t),q0(e,r,e.texParameteri,n)}function K0(e){return e=e||ht.textureColor,fn(e)?e:new Uint8Array([e[0]*255,e[1]*255,e[2]*255,e[3]*255])}function Il(e,t,{options:n,width:r,height:s,internalFormat:o,lastMipLevelUploaded:a}){n=n||ht.textureOptions,o=o||Y;const i=n.target||Le;if(r=r||n.width,s=s||n.height,e.bindTexture(i,t),a>1){const l=Math.max(1,r>>a),u=Math.max(1,s>>a),c=l===1&&u===1,h=cs(o)?as:is,f=cs(o)?c?Id:as:is;e.texParameteri(i,fr,h),e.texParameteri(i,cr,f)}else if(Y0(e,r,s,o))e.generateMipmap(i);else{const l=cs(o)?as:is;e.texParameteri(i,cr,l),e.texParameteri(i,fr,l),e.texParameteri(i,dr,ur),e.texParameteri(i,hr,ur)}}function aa(e,t,n,r,s,o){Il(e,t,{options:n,width:r,height:s,internalFormat:o})}function Hn(e){return e.auto===!0||e.auto===void 0&&e.level===void 0}function Ts(e,t){return t=t||{},t.cubeFaceOrder||[Pr,Pd,Cd,Bd,Dd,Md]}function As(e,t){const r=Ts(e,t).map(function(s,o){return{face:s,ndx:o}});return r.sort(function(s,o){return s.face-o.face}),r}function Pl(e,t,n,r){r=r||ht.textureOptions;const s=r.target||Le,o=r.level||0;let a=n.width,i=n.height;const l=r.internalFormat||r.format||Y,u=pn(l),c=r.format||u.format,h=r.type||u.type;if(e.bindTexture(s,t),s===Ue){const f=n.width,d=n.height;let m,_;if(f/6===d)m=d,_=[0,0,1,0,2,0,3,0,4,0,5,0];else if(d/6===f)m=f,_=[0,0,0,1,0,2,0,3,0,4,0,5];else if(f/3===d/2)m=f/3,_=[0,0,1,0,2,0,0,1,1,1,2,1];else if(f/2===d/3)m=f/2,_=[0,0,1,0,0,1,1,1,0,2,1,2];else throw new Error(`can't figure out cube map from element: ${n.src?n.src:n.nodeName}`);const v=xl();v?(v.canvas.width=m,v.canvas.height=m,a=m,i=m,ot(e,r,()=>{As(e,r).forEach(function(x){const E=_[x.ndx*2+0]*m,g=_[x.ndx*2+1]*m;v.drawImage(n,E,g,m,m,0,0,m,m),e.texImage2D(x.face,o,l,c,h,v.canvas)}),v.canvas.width=1,v.canvas.height=1})):typeof createImageBitmap<"u"&&(a=m,i=m,As(e,r).forEach(function(x){const E=_[x.ndx*2+0]*m,g=_[x.ndx*2+1]*m;e.texImage2D(x.face,o,l,m,m,0,c,h,null),createImageBitmap(n,E,g,m,m,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(R){ot(e,r,()=>{e.bindTexture(s,t),e.texImage2D(x.face,o,l,c,h,R),Hn(r)&&aa(e,t,r,a,i,l)})})}))}else s===mt||s===dt?ot(e,r,()=>{const f=Math.min(n.width,n.height),d=Math.max(n.width,n.height),m=d/f;if(m%1!==0)throw new Error("can not compute 3D dimensions of element");const _=n.width===d?1:0,v=n.height===d?1:0;e.pixelStorei(lo,1),e.pixelStorei(bl,n.width),e.pixelStorei(gl,0),e.pixelStorei(Rl,0),e.texImage3D(s,o,l,f,f,f,0,c,h,null);for(let x=0;x<m;++x){const E=x*f*_,g=x*f*v;e.pixelStorei(El,E),e.pixelStorei(yl,g),e.texSubImage3D(s,o,0,0,x,f,f,1,c,h,n)}Fl(e)}):ot(e,r,()=>{e.texImage2D(s,o,l,c,h,n)});Hn(r)&&aa(e,t,r,a,i,l),wl(e,t,r)}function $n(){}function W0(e){if(typeof document<"u"){const t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}else{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}function j0(e,t){return t===void 0&&!W0(e)?"anonymous":t}function Q0(e,t,n){n=n||$n;let r;if(t=t!==void 0?t:ht.crossOrigin,t=j0(e,t),typeof Image<"u"){r=new Image,t!==void 0&&(r.crossOrigin=t);const s=function(){r.removeEventListener("error",o),r.removeEventListener("load",a),r=null},o=function(){const l="couldn't load image: "+e;tl(l),n(l,r),s()},a=function(){n(null,r),s()};return r.addEventListener("error",o),r.addEventListener("load",a),r.src=e,r}else if(typeof ImageBitmap<"u"){let s,o;const a=function(){n(s,o)},i={};t&&(i.mode="cors"),fetch(e,i).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){o=l,setTimeout(a)}).catch(function(l){s=l,setTimeout(a)}),r=null}return r}function Cl(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof ImageData<"u"&&e instanceof ImageData||typeof HTMLElement<"u"&&e instanceof HTMLElement}function co(e,t,n){return Cl(e)?(setTimeout(function(){n(null,e)}),e):Q0(e,t,n)}function fo(e,t,n){n=n||ht.textureOptions;const r=n.target||Le;if(e.bindTexture(r,t),n.color===!1)return;const s=K0(n.color);if(r===Ue)for(let o=0;o<6;++o)e.texImage2D(Pr+o,0,Y,1,1,0,Y,X,s);else r===mt||r===dt?e.texImage3D(r,0,Y,1,1,1,0,Y,X,s):e.texImage2D(r,0,Y,1,1,0,Y,X,s)}function Z0(e,t,n,r){return r=r||$n,n=n||ht.textureOptions,fo(e,t,n),n=uo(e,n),co(n.src,n.crossOrigin,function(o,a){o?r(o,t,a):(Pl(e,t,a,n),r(null,t,a))})}function J0(e,t,n,r){r=r||$n;const s=n.src;if(s.length!==6)throw new Error("there must be 6 urls for a cubemap");const o=n.level||0,a=n.internalFormat||n.format||Y,i=pn(a),l=n.format||i.format,u=n.type||X,c=n.target||Le;if(c!==Ue)throw new Error("target must be TEXTURE_CUBE_MAP");fo(e,t,n),n=uo(e,n);let h=6;const f=[],d=Ts(e,n);let m;function _(v){return function(x,E){--h,x?f.push(x):E.width!==E.height?f.push("cubemap face img is not a square: "+E.src):ot(e,n,()=>{e.bindTexture(c,t),h===5?Ts().forEach(function(g){e.texImage2D(g,o,a,l,u,E)}):e.texImage2D(v,o,a,l,u,E),Hn(n)&&e.generateMipmap(c)}),h===0&&r(f.length?f:void 0,t,m)}}m=s.map(function(v,x){return co(v,n.crossOrigin,_(d[x]))})}function eh(e,t,n,r){r=r||$n;const s=n.src,o=n.internalFormat||n.format||Y,a=pn(o),i=n.format||a.format,l=n.type||X,u=n.target||dt;if(u!==mt&&u!==dt)throw new Error("target must be TEXTURE_3D or TEXTURE_2D_ARRAY");fo(e,t,n),n=uo(e,n);let c=s.length;const h=[];let f;const d=n.level||0;let m=n.width,_=n.height;const v=s.length;let x=!0;function E(g){return function(R,b){--c,R?h.push(R):ot(e,n,()=>{if(e.bindTexture(u,t),x){x=!1,m=n.width||b.width,_=n.height||b.height,e.texImage3D(u,d,o,m,_,v,0,i,l,null);for(let T=0;T<v;++T)e.texSubImage3D(u,d,0,0,T,m,_,1,i,l,b)}else{let T=b,A;(b.width!==m||b.height!==_)&&(A=xl(),T=A.canvas,A.canvas.width=m,A.canvas.height=_,A.drawImage(b,0,0,m,_)),e.texSubImage3D(u,d,0,0,g,m,_,1,i,l,T),A&&T===A.canvas&&(A.canvas.width=0,A.canvas.height=0)}Hn(n)&&e.generateMipmap(u)}),c===0&&r(h.length?h:void 0,t,f)}}f=s.map(function(g,R){return co(g,n.crossOrigin,E(R))})}function th(e,t,n,r){r=r||ht.textureOptions;const s=r.target||Le;e.bindTexture(s,t);const o=r.level||0,a=r.internalFormat||r.format||Y,i=pn(a),l=r.format||i.format,u=r.type||Al(e,n,i.type);if(fn(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const _=el(u);n=new _(n)}const{width:c,height:h,depth:f}=nh(s,n,r,a,l,u),d=Tl(a);Fl(e),e.pixelStorei(lo,r.unpackAlignment||1);let m=0;return ot(e,r,()=>{let _=0;const{blockWidth:v,blockHeight:x,bytesPerBlock:E}=$0(a,u);for(;_<n.byteLength;){const g=Math.max(1,c>>m),R=Math.max(1,h>>m),b=s===Le?Math.max(1,f>>m):f,T=Math.ceil(g/v),A=Math.ceil(R/x),I=s===Ue?6:1,y=T*A*E*b*I;if(_+y>n.byteLength)throw new Error("src size does not match number of mip levels");const F=n.subarray(_/n.BYTES_PER_ELEMENT,(_+y)/n.BYTES_PER_ELEMENT),B=o+m;if(s===Ue){const K=F.length/6;As(e,r).forEach(Q=>{const me=K*Q.ndx,be=F.subarray(me,me+K);d?e.compressedTexImage2D(Q.face,B,a,g,R,0,be):e.texImage2D(Q.face,B,a,g,R,0,l,u,be)})}else s===mt||s===dt?e.texImage3D(s,B,a,g,R,b,0,l,u,F):d?e.compressedTexImage2D(s,B,a,g,R,0,F):e.texImage2D(s,B,a,g,R,0,l,u,F);if(++m,_+=y,g===1&&R===1&&b===1&&_!==n.byteLength)throw new Error("src size has more data than can fit in mip levels")}}),{width:c,height:h,depth:f,type:u,lastMipLevelUploaded:o+m-1}}function nh(e,t,n,r,s,o){let a=n.width,i=n.height,l=n.depth;const u=Tl(r);if(u){if(!a||!i)throw new Error("compressed texture needs to set width and height!");l=l||1}else{const c=Sl(r,o),h=t.byteLength/c;if(h%1)throw new Error(`length wrong size for format: ${pl(Pn,s)}`);if(u&&(!a||!i))throw new Error("compressed texture needs to set width and height!");let f;if(e===mt||e===dt)if(!a&&!i&&!l){const d=Math.cbrt(h);if(d%1!==0)throw new Error(`can't guess cube size of array of numElements: ${h}`);a=d,i=d,l=d}else a&&(!i||!l)?(f=er(Pn,e,i,l,h/a),i=f.width,l=f.height):i&&(!a||!l)?(f=er(Pn,e,a,l,h/i),a=f.width,l=f.height):(f=er(Pn,e,a,i,h/l),a=f.width,i=f.height);else f=er(Pn,e,a,i,h),a=f.width,i=f.height}return{width:a,height:i,depth:l}}function rh(e,t,n){const r=n.target||Le;e.bindTexture(r,t);const s=n.level||0,o=n.internalFormat||n.format||Y,a=pn(o),i=n.format||a.format,l=n.type||a.type;ot(e,n,()=>{if(r===Ue)for(let u=0;u<6;++u)e.texImage2D(Pr+u,s,o,n.width,n.height,0,i,l,null);else r===mt||r===dt?e.texImage3D(r,s,o,n.width,n.height,n.depth,0,i,l,null):e.texImage2D(r,s,o,n.width,n.height,0,i,l,null)})}function Bl(e,t,n){n=n||$n,t=t||ht.textureOptions;const r=e.createTexture(),s=t.target||Le;let o=t.width||1,a=t.height||1,i=0;const l=t.internalFormat||Y;e.bindTexture(s,r),s===Ue&&(e.texParameteri(s,dr,ur),e.texParameteri(s,hr,ur));let u=t.src;if(u)if(typeof u=="function"&&(u=u(e,t)),typeof u=="string")Z0(e,r,t,n);else if(fn(u)||Array.isArray(u)&&(typeof u[0]=="number"||Array.isArray(u[0])||fn(u[0]))){const c=th(e,r,u,t);o=c.width,a=c.height,i=c.lastMipLevelUploaded}else Array.isArray(u)&&(typeof u[0]=="string"||Cl(u[0]))?s===Ue?J0(e,r,t,n):eh(e,r,t,n):(Pl(e,r,u,t),o=u.width,a=u.height);else rh(e,r,t);return Hn(t)&&Il(e,r,{options:t,width:o,height:a,internalFormat:l,lastMipLevelUploaded:i}),wl(e,r,t),r}function Dl(e,t,n,r,s,o){r=r||n.width,s=s||n.height,o=o||n.depth;const a=n.target||Le;e.bindTexture(a,t);const i=n.level||0,l=n.internalFormat||n.format||Y,u=pn(l),c=n.format||u.format;let h;const f=n.src;if(f&&(fn(f)||Array.isArray(f)&&typeof f[0]=="number")?h=n.type||Al(e,f,u.type):h=n.type||u.type,a===Ue)for(let d=0;d<6;++d)e.texImage2D(Pr+d,i,l,r,s,0,c,h,null);else a===mt||a===dt?e.texImage3D(a,i,l,r,s,o,0,c,h,null):e.texImage2D(a,i,l,r,s,0,c,h,null)}const ho=tl;function Ml(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}const mr=33984,Cr=34962,sh=34963,oh=35713,ih=35714,ah=35632,lh=35633,uh=35981,Nl=35718,ch=35721,fh=35971,dh=35382,hh=35396,mh=35398,_h=35392,vh=35395,Br=5126,kl=35664,Ll=35665,Ul=35666,mo=5124,Gl=35667,Ol=35668,Hl=35669,Vl=35670,zl=35671,Xl=35672,$l=35673,Yl=35674,ql=35675,Kl=35676,ph=35678,xh=35680,bh=35679,gh=35682,Eh=35685,yh=35686,Rh=35687,Sh=35688,Th=35689,Ah=35690,Fh=36289,wh=36292,Ih=36293,_o=5125,Wl=36294,jl=36295,Ql=36296,Ph=36298,Ch=36299,Bh=36300,Dh=36303,Mh=36306,Nh=36307,kh=36308,Lh=36311,Dr=3553,Mr=34067,vo=32879,Nr=35866,C={};function Zl(e,t){return C[t].bindPoint}function Uh(e,t){return function(n){e.uniform1f(t,n)}}function Gh(e,t){return function(n){e.uniform1fv(t,n)}}function Oh(e,t){return function(n){e.uniform2fv(t,n)}}function Hh(e,t){return function(n){e.uniform3fv(t,n)}}function Vh(e,t){return function(n){e.uniform4fv(t,n)}}function Jl(e,t){return function(n){e.uniform1i(t,n)}}function eu(e,t){return function(n){e.uniform1iv(t,n)}}function tu(e,t){return function(n){e.uniform2iv(t,n)}}function nu(e,t){return function(n){e.uniform3iv(t,n)}}function ru(e,t){return function(n){e.uniform4iv(t,n)}}function zh(e,t){return function(n){e.uniform1ui(t,n)}}function Xh(e,t){return function(n){e.uniform1uiv(t,n)}}function $h(e,t){return function(n){e.uniform2uiv(t,n)}}function Yh(e,t){return function(n){e.uniform3uiv(t,n)}}function qh(e,t){return function(n){e.uniform4uiv(t,n)}}function Kh(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}function Wh(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}function jh(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}function Qh(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}function Zh(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}function Jh(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}function em(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}function tm(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}function nm(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}function ue(e,t,n,r){const s=Zl(e,t);return Xn(e)?function(o){let a,i;!o||Ar(e,o)?(a=o,i=null):(a=o.texture,i=o.sampler),e.uniform1i(r,n),e.activeTexture(mr+n),e.bindTexture(s,a),e.bindSampler(n,i)}:function(o){e.uniform1i(r,n),e.activeTexture(mr+n),e.bindTexture(s,o)}}function ce(e,t,n,r,s){const o=Zl(e,t),a=new Int32Array(s);for(let i=0;i<s;++i)a[i]=n+i;return Xn(e)?function(i){e.uniform1iv(r,a),i.forEach(function(l,u){e.activeTexture(mr+a[u]);let c,h;!l||Ar(e,l)?(c=l,h=null):(c=l.texture,h=l.sampler),e.bindSampler(n,h),e.bindTexture(o,c)})}:function(i){e.uniform1iv(r,a),i.forEach(function(l,u){e.activeTexture(mr+a[u]),e.bindTexture(o,l)})}}C[Br]={Type:Float32Array,size:4,setter:Uh,arraySetter:Gh};C[kl]={Type:Float32Array,size:8,setter:Oh,cols:2};C[Ll]={Type:Float32Array,size:12,setter:Hh,cols:3};C[Ul]={Type:Float32Array,size:16,setter:Vh,cols:4};C[mo]={Type:Int32Array,size:4,setter:Jl,arraySetter:eu};C[Gl]={Type:Int32Array,size:8,setter:tu,cols:2};C[Ol]={Type:Int32Array,size:12,setter:nu,cols:3};C[Hl]={Type:Int32Array,size:16,setter:ru,cols:4};C[_o]={Type:Uint32Array,size:4,setter:zh,arraySetter:Xh};C[Wl]={Type:Uint32Array,size:8,setter:$h,cols:2};C[jl]={Type:Uint32Array,size:12,setter:Yh,cols:3};C[Ql]={Type:Uint32Array,size:16,setter:qh,cols:4};C[Vl]={Type:Uint32Array,size:4,setter:Jl,arraySetter:eu};C[zl]={Type:Uint32Array,size:8,setter:tu,cols:2};C[Xl]={Type:Uint32Array,size:12,setter:nu,cols:3};C[$l]={Type:Uint32Array,size:16,setter:ru,cols:4};C[Yl]={Type:Float32Array,size:32,setter:Kh,rows:2,cols:2};C[ql]={Type:Float32Array,size:48,setter:Wh,rows:3,cols:3};C[Kl]={Type:Float32Array,size:64,setter:jh,rows:4,cols:4};C[Eh]={Type:Float32Array,size:32,setter:Qh,rows:2,cols:3};C[yh]={Type:Float32Array,size:32,setter:Jh,rows:2,cols:4};C[Rh]={Type:Float32Array,size:48,setter:Zh,rows:3,cols:2};C[Sh]={Type:Float32Array,size:48,setter:tm,rows:3,cols:4};C[Th]={Type:Float32Array,size:64,setter:em,rows:4,cols:2};C[Ah]={Type:Float32Array,size:64,setter:nm,rows:4,cols:3};C[ph]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Dr};C[xh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Mr};C[bh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:vo};C[gh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Dr};C[Fh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Nr};C[wh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Nr};C[Ih]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Mr};C[Ph]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Dr};C[Ch]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:vo};C[Bh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Mr};C[Dh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Nr};C[Mh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Dr};C[Nh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:vo};C[kh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Mr};C[Lh]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Nr};function kr(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(Cr,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||Br,n.normalize||!1,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function _t(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4iv(t,n.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(Cr,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||mo,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function Lr(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4uiv(t,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(Cr,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||_o,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function po(e,t,n){const r=n.size,s=n.count;return function(o){e.bindBuffer(Cr,o.buffer);const a=o.size||o.numComponents||r,i=a/s,l=o.type||Br,c=C[l].size*a,h=o.normalize||!1,f=o.offset||0,d=c/s;for(let m=0;m<s;++m)e.enableVertexAttribArray(t+m),e.vertexAttribPointer(t+m,i,l,h,c,f+d*m),e.vertexAttribDivisor&&e.vertexAttribDivisor(t+m,o.divisor||0)}}const W={};W[Br]={size:4,setter:kr};W[kl]={size:8,setter:kr};W[Ll]={size:12,setter:kr};W[Ul]={size:16,setter:kr};W[mo]={size:4,setter:_t};W[Gl]={size:8,setter:_t};W[Ol]={size:12,setter:_t};W[Hl]={size:16,setter:_t};W[_o]={size:4,setter:Lr};W[Wl]={size:8,setter:Lr};W[jl]={size:12,setter:Lr};W[Ql]={size:16,setter:Lr};W[Vl]={size:4,setter:_t};W[zl]={size:8,setter:_t};W[Xl]={size:12,setter:_t};W[$l]={size:16,setter:_t};W[Yl]={size:4,setter:po,count:2};W[ql]={size:9,setter:po,count:3};W[Kl]={size:16,setter:po,count:4};const rm=/ERROR:\s*\d+:(\d+)/gi;function sm(e,t="",n=0){const r=[...t.matchAll(rm)],s=new Map(r.map((o,a)=>{const i=parseInt(o[1]),l=r[a+1],u=l?l.index:t.length,c=t.substring(o.index,u);return[i-1,c]}));return e.split(`
`).map((o,a)=>{const i=s.get(a);return`${a+1+n}: ${o}${i?`

^^^ ${i}`:""}`}).join(`
`)}const la=/^[ \t]*\n/;function su(e){let t=0;return la.test(e)&&(t=1,e=e.replace(la,"")),{lineOffset:t,shaderSource:e}}function om(e,t){return e.errorCallback(t),e.callback&&setTimeout(()=>{e.callback(`${t}
${e.errors.join(`
`)}`)}),null}function im(e,t,n,r){if(r=r||ho,!e.getShaderParameter(n,oh)){const o=e.getShaderInfoLog(n),{lineOffset:a,shaderSource:i}=su(e.getShaderSource(n)),l=`${sm(i,o,a)}
Error compiling ${pl(e,t)}: ${o}`;return r(l),l}return""}function xo(e,t,n){let r,s,o;if(typeof t=="function"&&(n=t,t=void 0),typeof e=="function")n=e,e=void 0;else if(e&&!Array.isArray(e)){const u=e;n=u.errorCallback,e=u.attribLocations,r=u.transformFeedbackVaryings,s=u.transformFeedbackMode,o=u.callback}const a=n||ho,i=[],l={errorCallback(u,...c){i.push(u),a(u,...c)},transformFeedbackVaryings:r,transformFeedbackMode:s,callback:o,errors:i};{let u={};Array.isArray(e)?e.forEach(function(c,h){u[c]=t?t[h]:h}):u=e||{},l.attribLocations=u}return l}const am=["VERTEX_SHADER","FRAGMENT_SHADER"];function lm(e,t){if(t.indexOf("frag")>=0)return ah;if(t.indexOf("vert")>=0)return lh}function um(e,t,n){const r=e.getAttachedShaders(t);for(const s of r)n.has(s)||e.deleteShader(s);e.deleteProgram(t)}const cm=(e=0)=>new Promise(t=>setTimeout(t,e));function fm(e,t,n){const r=e.createProgram(),{attribLocations:s,transformFeedbackVaryings:o,transformFeedbackMode:a}=xo(n);for(let i=0;i<t.length;++i){let l=t[i];if(typeof l=="string"){const u=Ml(l),c=u?u.text:l;let h=e[am[i]];u&&u.type&&(h=lm(e,u.type)||h),l=e.createShader(h),e.shaderSource(l,su(c).shaderSource),e.compileShader(l)}e.attachShader(r,l)}Object.entries(s).forEach(([i,l])=>e.bindAttribLocation(r,l,i));{let i=o;i&&(i.attribs&&(i=i.attribs),Array.isArray(i)||(i=Object.keys(i)),e.transformFeedbackVaryings(r,i,a||uh))}return e.linkProgram(r),r}function dm(e,t,n,r,s){const o=xo(n,r,s),a=new Set(t),i=fm(e,t,o);function l(u,c){const h=mm(u,c,o.errorCallback);return h&&um(u,c,a),h}if(o.callback){hm(e,i).then(()=>{const u=l(e,i);o.callback(u,u?void 0:i)});return}return l(e,i)?void 0:i}async function hm(e,t){const n=e.getExtension("KHR_parallel_shader_compile"),r=n?(o,a)=>o.getProgramParameter(a,n.COMPLETION_STATUS_KHR):()=>!0;let s=0;do await cm(s),s=1e3/60;while(!r(e,t))}function mm(e,t,n){if(n=n||ho,!e.getProgramParameter(t,ih)){const s=e.getProgramInfoLog(t);n(`Error in program linking: ${s}`);const a=e.getAttachedShaders(t).map(i=>im(e,e.getShaderParameter(i,e.SHADER_TYPE),i,n));return`${s}
${a.filter(i=>i).join(`
`)}`}}function _m(e,t,n,r,s){return dm(e,t,n,r,s)}function ou(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const vm=/(\.|\[|]|\w+)/g,pm=e=>e>="0"&&e<="9";function xm(e,t,n,r){const s=e.split(vm).filter(i=>i!=="");let o=0,a="";for(;;){const i=s[o++];a+=i;const l=pm(i[0]),u=l?parseInt(i):i;if(l&&(a+=s[o++]),o===s.length){n[u]=t;break}else{const h=s[o++],f=h==="[",d=n[u]||(f?[]:{});n[u]=d,n=d,r[a]=r[a]||(function(m){return function(_){iu(m,_)}})(d),a+=h}}}function bm(e,t){let n=0;function r(i,l,u){const c=l.name.endsWith("[0]"),h=l.type,f=C[h];if(!f)throw new Error(`unknown type: 0x${h.toString(16)}`);let d;if(f.bindPoint){const m=n;n+=l.size,c?d=f.arraySetter(e,h,m,u,l.size):d=f.setter(e,h,m,u,l.size)}else f.arraySetter&&c?d=f.arraySetter(e,u):d=f.setter(e,u);return d.location=u,d}const s={},o={},a=e.getProgramParameter(t,Nl);for(let i=0;i<a;++i){const l=e.getActiveUniform(t,i);if(ou(l))continue;let u=l.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const c=e.getUniformLocation(t,l.name);if(c){const h=r(t,l,c);s[u]=h,xm(u,h,o,s)}}return s}function gm(e,t){const n={},r=e.getProgramParameter(t,fh);for(let s=0;s<r;++s){const o=e.getTransformFeedbackVarying(t,s);n[o.name]={index:s,type:o.type,size:o.size}}return n}function Em(e,t){const n=e.getProgramParameter(t,Nl),r=[],s=[];for(let i=0;i<n;++i){s.push(i),r.push({});const l=e.getActiveUniform(t,i);r[i].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(i){const l=i[0],u=i[1];e.getActiveUniforms(t,s,e[l]).forEach(function(c,h){r[h][u]=c})});const o={},a=e.getProgramParameter(t,dh);for(let i=0;i<a;++i){const l=e.getActiveUniformBlockName(t,i),u={index:e.getUniformBlockIndex(t,l),usedByVertexShader:e.getActiveUniformBlockParameter(t,i,hh),usedByFragmentShader:e.getActiveUniformBlockParameter(t,i,mh),size:e.getActiveUniformBlockParameter(t,i,_h),uniformIndices:e.getActiveUniformBlockParameter(t,i,vh)};u.used=u.usedByVertexShader||u.usedByFragmentShader,o[l]=u}return{blockSpecs:o,uniformData:r}}function iu(e,t){for(const n in t){const r=e[n];typeof r=="function"?r(t[n]):iu(e[n],t[n])}}function bo(e,...t){const n=e.uniformSetters||e,r=t.length;for(let s=0;s<r;++s){const o=t[s];if(Array.isArray(o)){const a=o.length;for(let i=0;i<a;++i)bo(n,o[i])}else for(const a in o){const i=n[a];i&&i(o[a])}}}function ym(e,t){const n={},r=e.getProgramParameter(t,ch);for(let s=0;s<r;++s){const o=e.getActiveAttrib(t,s);if(ou(o))continue;const a=e.getAttribLocation(t,o.name),i=W[o.type],l=i.setter(e,a,i);l.location=a,n[o.name]=l}return n}function Rm(e,t){for(const n in t){const r=e[n];r&&r(t[n])}}function au(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(Rm(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(sh,n.indices))}function ua(e,t){const n=bm(e,t),r=ym(e,t),s={program:t,uniformSetters:n,attribSetters:r,uniformLocations:Object.fromEntries(Object.entries(n).map(([o,a])=>[o,a.location])),attribLocations:Object.fromEntries(Object.entries(r).map(([o,a])=>[o,a.location]))};return Xn(e)&&(s.uniformBlockSpec=Em(e,t),s.transformFeedbackInfo=gm(e,t)),s}const Sm=/\s|{|}|;/;function Tm(e,t,n,r,s){const o=xo(n,r,s),a=[];if(t=t.map(function(u){if(!Sm.test(u)){const c=Ml(u);if(c)u=c.text;else{const h=`no element with id: ${u}`;o.errorCallback(h),a.push(h)}}return u}),a.length)return om(o,"");const i=o.callback;i&&(o.callback=(u,c)=>{i(u,u?void 0:ua(e,c))});const l=_m(e,t,o);return l?ua(e,l):null}const Am=4,ca=5123;function lu(e,t,n,r,s,o){n=n===void 0?Am:n;const a=t.indices,i=t.elementType,l=r===void 0?t.numElements:r;s=s===void 0?0:s,i||a?o!==void 0?e.drawElementsInstanced(n,l,i===void 0?ca:t.elementType,s,o):e.drawElements(n,l,i===void 0?ca:t.elementType,s):o!==void 0?e.drawArraysInstanced(n,s,l,o):e.drawArrays(n,s,l)}const uu=36160,St=36161,Fm=3553,wm=5121,Im=6402,Pm=6408,Cm=33190,Bm=36012,Dm=35056,Mm=36013,Nm=32854,km=32855,Lm=36194,cu=33189,fu=6401,du=36168,go=34041,Fs=36064,Ur=36096,hu=36128,Eo=33306,ws=33071,Is=9729,mu=[{format:Pm,type:wm,min:Is,wrap:ws},{format:go}],we={};we[go]=Eo;we[fu]=hu;we[du]=hu;we[Im]=Ur;we[cu]=Ur;we[Cm]=Ur;we[Bm]=Ur;we[Dm]=Eo;we[Mm]=Eo;function Um(e,t){return we[e]||we[t]}const vt={};vt[Nm]=!0;vt[km]=!0;vt[Lm]=!0;vt[go]=!0;vt[cu]=!0;vt[fu]=!0;vt[du]=!0;function Gm(e){return vt[e]}const Om=32;function Hm(e){return e>=Fs&&e<Fs+Om}function Vm(e,t,n,r){const s=uu,o=e.createFramebuffer();e.bindFramebuffer(s,o),n=n||e.drawingBufferWidth,r=r||e.drawingBufferHeight,t=t||mu;const a=[],i={framebuffer:o,attachments:[],width:n,height:r};return t.forEach(function(l,u){let c=l.attachment;const h=l.samples,f=l.format;let d=l.attachmentPoint||Um(f,l.internalFormat);if(d||(d=Fs+u),Hm(d)&&a.push(d),!c)if(h!==void 0||Gm(f))c=e.createRenderbuffer(),e.bindRenderbuffer(St,c),h>1?e.renderbufferStorageMultisample(St,h,f,n,r):e.renderbufferStorage(St,f,n,r);else{const m=Object.assign({},l);m.width=n,m.height=r,m.auto===void 0&&(m.auto=!1,m.min=m.min||m.minMag||Is,m.mag=m.mag||m.minMag||Is,m.wrapS=m.wrapS||m.wrap||ws,m.wrapT=m.wrapT||m.wrap||ws),c=Bl(e,m)}if(nl(e,c))e.framebufferRenderbuffer(s,d,St,c);else if(Ar(e,c))l.layer!==void 0?e.framebufferTextureLayer(s,d,c,l.level||0,l.layer):e.framebufferTexture2D(s,d,l.target||Fm,c,l.level||0);else throw new Error("unknown attachment type");i.attachments.push(c)}),e.drawBuffers&&e.drawBuffers(a),i}function zm(e,t,n,r,s){r=r||e.drawingBufferWidth,s=s||e.drawingBufferHeight,t.width=r,t.height=s,n=n||mu,n.forEach(function(o,a){const i=t.attachments[a],l=o.format,u=o.samples;if(u!==void 0||nl(e,i))e.bindRenderbuffer(St,i),u>1?e.renderbufferStorageMultisample(St,u,l,r,s):e.renderbufferStorage(St,l,r,s);else if(Ar(e,i))Dl(e,i,o,r,s);else throw new Error("unknown attachment type")})}function fa(e,t,n){n=n||uu,t?(e.bindFramebuffer(n,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(n,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))}class Z{constructor(t,n,r,s){this.gl=t,this.internalFormat=n,this.format=r,this.texture=Bl(t,{width:t.canvas.width,height:t.canvas.height,internalFormat:n,format:r,type:t.UNSIGNED_BYTE,minMag:s,wrap:t.CLAMP_TO_EDGE}),this.framebufferInfo=Vm(t,[{attachment:this.texture}],t.canvas.width,t.canvas.height)}framebufferInfo;texture;get isRGBA8(){return this.internalFormat===this.gl.RGBA8&&this.format===this.gl.RGBA}get isR8(){return this.internalFormat===this.gl.R8&&this.format===this.gl.RED}static createRGBA8(t,n=t.LINEAR){return new Z(t,t.RGBA8,t.RGBA,n)}static createRGB8(t,n=t.LINEAR){return new Z(t,t.RGB8,t.RGB,n)}static createR8(t,n=t.LINEAR){return new Z(t,t.R8,t.RED,n)}resize(t,n){Dl(this.gl,this.texture,{width:t,height:n}),zm(this.gl,this.framebufferInfo,[{attachment:this.texture}],t,n)}}class Xm{constructor(t){this.canvas=t;const n=t.getContext("webgl2");if(!n)throw new Error("WebGL2 not available for pipeline");this.gl=n,this.bitmapRenderTarget=Z.createRGBA8(n)}passChain=[];bitmapRenderTarget;gl;addPass(t){this.passChain.push(t)}applyBitmap(t,n){this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,n)}resize(t,n){this.canvas.width=t,this.canvas.height=n,this.bitmapRenderTarget.resize(t,n)}postprocess(t){}async render(t){(this.canvas.width!==t.width||this.canvas.height!==t.height)&&this.resize(t.width,t.height),this.applyBitmap(this.bitmapRenderTarget.texture,t);const n=this.passChain.filter(a=>a.enabled);if(n.length===0)throw new Error("No passes in pipeline");let r=this.bitmapRenderTarget;for(let a=0;a<n.length-1;a++)r=n[a].apply(r);const o=n[n.length-1].applyToScreen(r)??r;return this.postprocess(o)}}const $m=`#version 300 es

in vec2 position;
in vec2 texcoord;

out vec2 v_uv;

void main() {
  v_uv = texcoord;
  gl_Position = vec4(position, 0.0, 1.0);
}`;class xn{constructor(t,n){this.gl=t,this.settings=n,this.quadBufferInfo=vl.createXYQuadBufferInfo(t)}get enabled(){return this.settings.enabled}set enabled(t){this.settings.enabled=t}quadBufferInfo;apply(t){return this.applyInternal(t,!1)}applyToScreen(t){return this.applyInternal(t,!0)}executeProgram(t,n,r,s=!1){this.settings.input=n.texture,t.uniformSetters.u_texelSize&&this.settings.setTextelSize(n.framebufferInfo.width,n.framebufferInfo.height),r&&!s&&(r.framebufferInfo.width!==this.gl.canvas.width||r.framebufferInfo.height!==this.gl.canvas.height)&&r.resize(this.gl.canvas.width,this.gl.canvas.height);const o=r?r.framebufferInfo.width:this.gl.canvas.width,a=r?r.framebufferInfo.height:this.gl.canvas.height;r?fa(this.gl,r.framebufferInfo):fa(this.gl,null),this.gl.useProgram(t.program),this.gl.viewport(0,0,o,a),au(this.gl,t,this.quadBufferInfo),bo(t,this.settings.uniforms),lu(this.gl,this.quadBufferInfo)}createProgramInfo(t){return Tm(this.gl,[$m,t])}}const Ym=`#version 300 es
precision highp float;

in vec2 v_uv;

uniform sampler2D u_input;        // R8 luma input
uniform vec2      u_texelSize;    // 1 / texture resolution

uniform float u_sigmaSpatial;     // spatial Gaussian sigma
uniform float u_sigmaRange;       // range (luma) Gaussian sigma
uniform int   u_kernelRadius;     // must be <= MAX_KERNEL_RADIUS

out vec4 outColor;

const int MAX_KERNEL_RADIUS = 5;

void main() {

    vec2 uv = v_uv;

    // Center pixel (luma)
    float centerLuma = texture(u_input, uv).r;

    float weightedSum = 0.0;
    float weightTotal = 0.0;

    // Precompute inverse variances
    float invSpatialVar = 1.0 / (2.0 * u_sigmaSpatial * u_sigmaSpatial);
    float invRangeVar   = 1.0 / (2.0 * u_sigmaRange   * u_sigmaRange);

    for (int ky = -MAX_KERNEL_RADIUS; ky <= MAX_KERNEL_RADIUS; ++ky) {
        for (int kx = -MAX_KERNEL_RADIUS; kx <= MAX_KERNEL_RADIUS; ++kx) {

            // Branchless kernel mask
            float maskX = step(float(abs(kx)), float(u_kernelRadius));
            float maskY = step(float(abs(ky)), float(u_kernelRadius));
            float kernelMask = maskX * maskY;

            vec2 offsetTexel =
                vec2(float(kx), float(ky)) * u_texelSize;

            float neighborLuma =
                texture(u_input, uv + offsetTexel).r;

            float spatialDist2 =
                float(kx * kx + ky * ky);

            float rangeDist2 =
                (neighborLuma - centerLuma) *
                (neighborLuma - centerLuma);

            float weightSpatial =
                exp(-spatialDist2 * invSpatialVar);

            float weightRange =
                exp(-rangeDist2 * invRangeVar);

            float kernelWeight =
                weightSpatial * weightRange * kernelMask;

            weightedSum += neighborLuma * kernelWeight;
            weightTotal += kernelWeight;
        }
    }

    float filteredLuma = weightedSum / weightTotal;

    outColor = vec4(filteredLuma,
                    filteredLuma,
                    filteredLuma,
                    1.0);
}
`;class qm extends xn{bilateralProgramInfo;outputRenderTarget;constructor(t,n){super(t,n),this.bilateralProgramInfo=this.createProgramInfo(Ym),this.outputRenderTarget=Z.createR8(t)}applyInternal(t,n){if(!t.isR8)throw new Error("BilateralPass only supports R8 render targets");return this.executeProgram(this.bilateralProgramInfo,t,n?null:this.outputRenderTarget),this.outputRenderTarget}}class bn{_enabled=!0;get enabled(){return this._enabled}set enabled(t){this._enabled=t}get input(){return this.uniforms.u_input}set input(t){this.uniforms.u_input=t}get textelSize(){return this.uniforms.u_texelSize}setTextelSize(t,n){this.uniforms.u_texelSize=[1/t,1/n]}uniforms={}}class Km extends bn{get sigmaSpatial(){return this.uniforms.u_sigmaSpatial}set sigmaSpatial(t){this.uniforms.u_sigmaSpatial=t}get sigmaRange(){return this.uniforms.u_sigmaRange}set sigmaRange(t){this.uniforms.u_sigmaRange=t}get kernelRadius(){return this.uniforms.u_kernelRadius}set kernelRadius(t){this.uniforms.u_kernelRadius=t}}const Wm=`#version 300 es
precision highp float;

in vec2 v_uv;
uniform sampler2D u_input;

out vec4 outColor;

void main() {
    vec3 color = texture(u_input, v_uv).rgb;

    // Rec.709 luma
    float luma = dot(color, vec3(
        0.2126,  // R
        0.7152,  // G
        0.0722   // B
    ));

    outColor = vec4(luma, luma, luma, 1.0);
}
`;class jm extends xn{lum709ProgramInfo;outputRenderTarget;constructor(t){super(t,new bn),this.lum709ProgramInfo=this.createProgramInfo(Wm),this.outputRenderTarget=Z.createR8(t)}applyInternal(t,n){if(!t.isRGBA8)throw new Error("Rec709LumPass only supports RGBA8 render targets");return this.executeProgram(this.lum709ProgramInfo,t,n?null:this.outputRenderTarget),this.outputRenderTarget}}const Qm=`#version 300 es
precision highp float;

in vec2 v_uv;
uniform sampler2D u_input;
uniform int u_flipX;
uniform int u_flipY;

out vec4 outColor;

void main() {
    vec2 uv = v_uv;
    if (u_flipX == 1) uv.x = 1.0 - uv.x;
    if (u_flipY == 1) uv.y = 1.0 - uv.y;
    outColor = texture(u_input, uv);
}
`;class Zm extends xn{programInfo;outputRenderTarget;constructor(t,n){super(t,n),this.programInfo=this.createProgramInfo(Qm),this.outputRenderTarget=Z.createR8(t)}applyInternal(t,n){if(!t.isR8)throw new Error("OrientationPass expects R8 render targets");return this.executeProgram(this.programInfo,t,n?null:this.outputRenderTarget),this.outputRenderTarget}}class Jm extends bn{get flipX(){return!!this.uniforms.u_flipX}set flipX(t){this.uniforms.u_flipX=t?1:0}get flipY(){return!!this.uniforms.u_flipY}set flipY(t){this.uniforms.u_flipY=t?1:0}}const e_=`#version 300 es
precision highp float;

in vec2 v_uv;

uniform sampler2D u_input;
uniform vec2      u_texelSize;

out vec4 outColor;

const float sobelDerivative[5] = float[5](
    -2.0, -1.0, 0.0, 1.0, 2.0
);

const float sobelSmoothing[5] = float[5](
     1.0,  4.0, 6.0, 4.0, 1.0
);

const float SOBEL_DIRECTION_NORMALIZATION = 48.0;

void main()
{
    float gradientX = 0.0;
    float gradientY = 0.0;

    for (int offsetY = 0; offsetY < 5; offsetY++)
    {
        for (int offsetX = 0; offsetX < 5; offsetX++)
        {
            vec2 sampleOffset =
                vec2(float(offsetX - 2), float(offsetY - 2)) * u_texelSize;

            float sampleLuma =
                texture(u_input, v_uv + sampleOffset).r;

            gradientX +=
                sampleLuma *
                sobelDerivative[offsetX] *
                sobelSmoothing[offsetY];

            gradientY +=
                sampleLuma *
                sobelSmoothing[offsetX] *
                sobelDerivative[offsetY];
        }
    }

    // Normalize to [-1, +1]
    float gxNorm = gradientX / SOBEL_DIRECTION_NORMALIZATION;
    float gyNorm = gradientY / SOBEL_DIRECTION_NORMALIZATION;

    // Map to [0, 65535]
    float gxU16 = (gxNorm * 0.5 + 0.5) * 65535.0;
    float gyU16 = (gyNorm * 0.5 + 0.5) * 65535.0;

    // Split into bytes
    float gxHigh = floor(gxU16 / 256.0);
    float gxLow  = mod(gxU16, 256.0);

    float gyHigh = floor(gyU16 / 256.0);
    float gyLow  = mod(gyU16, 256.0);

    // Store as normalized bytes
    outColor = vec4(
        gxHigh / 255.0,
        gxLow  / 255.0,
        gyHigh / 255.0,
        gyLow  / 255.0
    );
}
`,t_=`#version 300 es
precision highp float;

in vec2 v_uv;

uniform sampler2D u_input;      // Input luma texture (luma in .r)
uniform vec2      u_texelSize;  // 1.0 / texture resolution

uniform float u_sigmaSmall;
uniform float u_sigmaLarge;

out vec4 outColor;

/*
    Hard cap to keep footprint bounded.
*/
const float MAX_SIGMA_LARGE = 3.0;
const int   GAUSSIAN_RADIUS = 9;

void main()
{
    float sigmaSmall = u_sigmaSmall;
    float sigmaLarge = min(u_sigmaLarge, MAX_SIGMA_LARGE);

    float invTwoSigmaSmallSq =
        1.0 / (2.0 * sigmaSmall * sigmaSmall);

    float invTwoSigmaLargeSq =
        1.0 / (2.0 * sigmaLarge * sigmaLarge);

    float blurSmall = 0.0;
    float blurLarge = 0.0;

    float weightSumSmall = 0.0;
    float weightSumLarge = 0.0;

    for (int y = -GAUSSIAN_RADIUS; y <= GAUSSIAN_RADIUS; y++)
    {
        for (int x = -GAUSSIAN_RADIUS; x <= GAUSSIAN_RADIUS; x++)
        {
            vec2 offset =
                vec2(float(x), float(y)) * u_texelSize;

            float luma =
                texture(u_input, v_uv + offset).r;

            float distSq =
                float(x * x + y * y);

            float weightSmall =
                exp(-distSq * invTwoSigmaSmallSq);

            float weightLarge =
                exp(-distSq * invTwoSigmaLargeSq);

            blurSmall += luma * weightSmall;
            blurLarge += luma * weightLarge;

            weightSumSmall += weightSmall;
            weightSumLarge += weightLarge;
        }
    }

    blurSmall /= weightSumSmall;
    blurLarge /= weightSumLarge;

    // Difference of Gaussians
    float dog = blurSmall - blurLarge;

    /*
        dog â [-1, +1] by construction.
        Map to signed 32-bit range.
    */
    float dogSigned32 =
        clamp(dog, -1.0, 1.0) * 2147483647.0;

    // Convert to unsigned for packing
    float dogUnsigned32 =
        dogSigned32 + 2147483648.0;

    // Split into 4 bytes (big-endian)
    float byteR = floor(dogUnsigned32 / 16777216.0);          // >> 24
    float byteG = floor(mod(dogUnsigned32 / 65536.0, 256.0)); // >> 16
    float byteB = floor(mod(dogUnsigned32 / 256.0, 256.0));   // >> 8
    float byteA = floor(mod(dogUnsigned32, 256.0));           // >> 0

    outColor = vec4(
        byteR / 255.0,
        byteG / 255.0,
        byteB / 255.0,
        byteA / 255.0
    );
}
`;function n_(e){const t=e-1;return t*t*t+1}function da(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function r_(e,{delay:t=0,duration:n=400,easing:r=n_,x:s=0,y:o=0,opacity:a=0}={}){const i=getComputedStyle(e),l=+i.opacity,u=i.transform==="none"?"":i.transform,c=l*(1-a),[h,f]=da(s),[d,m]=da(o);return{delay:t,duration:n,easing:r,css:(_,v)=>`
			transform: ${u} translate(${(1-_)*h}${f}, ${(1-_)*d}${m});
			opacity: ${l-c*v}`}}class s_{gradientX;gradientY;magnitude;gradientVectorX;gradientVectorY;constructor(t,n,r,s){const o=t<<8|n,a=r<<8|s;this.gradientX=o/65535*2-1,this.gradientY=a/65535*2-1,this.magnitude=Math.sqrt(this.gradientX*this.gradientX+this.gradientY*this.gradientY),this.gradientVectorX=this.magnitude>0?this.gradientX/this.magnitude:0,this.gradientVectorY=this.magnitude>0?this.gradientY/this.magnitude:0}}class o_{value;constructor(t,n,r,s){const a=(t<<24>>>0|n<<16|r<<8|s)-2147483648;this.value=a/2147483647}}class i_ extends xn{constructor(t,n){super(t,n),this.sobelPassSettings=n,this.sobelGradientsProgramInfo=this.createProgramInfo(e_),this.sobelGradientsRenderTarget=Z.createRGBA8(t),this.dogProgramInfo=this.createProgramInfo(t_),this.dogRenderTarget=Z.createRGBA8(t),this.debugProgramInfo=this.createProgramInfo(this.debugFragmentShaderSource),this.debugRenderTarget=Z.createRGBA8(t),this.debugQuadBufferInfo=vl.createXYQuadBufferInfo(t)}sobelGradientsProgramInfo;sobelGradientsRenderTarget;dogProgramInfo;dogRenderTarget;debugProgramInfo;debugRenderTarget;debugQuadBufferInfo;debugFragmentShaderSource=`
#version 300 es
precision highp float;

in vec2 v_uv;
uniform sampler2D u_input;

out vec4 outColor;

void main() {
outColor = texture(u_input, v_uv);
}
`;applyInternal(t,n){if(!t.isR8)throw new Error("SobelPass expects R8 or RGBA8 render targets");return this.executeProgram(this.sobelGradientsProgramInfo,t,this.sobelGradientsRenderTarget),this.executeProgram(this.dogProgramInfo,this.sobelGradientsRenderTarget,this.dogRenderTarget),this.followEdge(this.buildMetadata()),this.dogRenderTarget}buildMetadata(){const t=this.gl,n=this.dogRenderTarget.framebufferInfo.width,r=this.dogRenderTarget.framebufferInfo.height,s=this.readRGBA8Framebuffer(t,this.sobelGradientsRenderTarget.framebufferInfo.framebuffer,n,r),o=this.readRGBA8Framebuffer(t,this.dogRenderTarget.framebufferInfo.framebuffer,n,r),a=new Array(s.length/4);for(let i=0;i<s.length;i+=4){const l=i/4;a[l]={},a[l].index=l,a[l].sobel=new s_(s[i],s[i+1],s[i+2],s[i+3]),a[l].dog=new o_(o[i],o[i+1],o[i+2],o[i+3])}for(let i=0;i<o.length;i+=4);for(let i=0;i<r;i++)for(let l=0;l<n;l++){const u=i*n+l,c=a[u];let h=-1;for(let f=-1;f<=1;f++)for(let d=-1;d<=1;d++){if(d===0&&f===0)continue;const m=l+d,_=i+f;if(m<0||m>=n||_<0||_>=r)continue;const v=_*n+m,x=a[v],E=Math.abs(c.sobel.gradientVectorX*x.sobel.gradientVectorX+c.sobel.gradientVectorY*x.sobel.gradientVectorY),g=Math.abs(d*-c.sobel.gradientVectorY+f*c.sobel.gradientVectorX),R=E*g;R>h&&(h=R,c.secondStrongestNeighborIndex=c.strongestNeighborIndex,c.secondStrongestNeighborScore=c.strongestNeighborScore,c.strongestNeighborIndex=x.index,c.strongestNeighborScore=R);const b=c.sobel.gradientVectorX,T=c.sobel.gradientVectorY,A=Math.abs(b)+Math.abs(T),I=A>0?c.sobel.magnitude/A:0;c.score=I*h}}return a}readRGBA8Framebuffer(t,n,r,s){const o=new Uint8Array(r*s*4);return t.bindFramebuffer(t.FRAMEBUFFER,n),t.pixelStorei(t.PACK_ALIGNMENT,1),t.readPixels(0,0,r,s,t.RGBA,t.UNSIGNED_BYTE,o),t.bindFramebuffer(t.FRAMEBUFFER,null),o}followEdge(t){const r=t.slice().sort((l,u)=>u.score-l.score),s=Array(t.length).fill(!1),o=new Float32Array(640*480);let a=r[0],i=null;for(let l=0;l<1e4;l++){o[a.index]=1,s[a.index]=!0;const u=a.strongestNeighborIndex,c=a.secondStrongestNeighborIndex,h=u>=0&&u<t.length?t[u]:null,f=c>=0&&c<t.length?t[c]:null;let d=null;if(h&&h.index!==i&&!s[h.index]&&h.score>=.3)d=h;else if(f&&f.index!==i&&!s[f.index]&&f.score>=.3)d=f;else{d=null;for(const m of r)if(!s[m.index]&&m.score>=.3){d=m;break}}if(!d)break;i=a.index,a=d}this.drawLumaArray(this.gl,this.debugProgramInfo,this.debugRenderTarget,o)}drawLumaArray(t,n,r,s){const i=new Uint8Array(1228800);for(let l=0;l<640*480;l++){const u=Math.max(0,Math.min(1,s[l]))*255,c=l*4;i[c+0]=u,i[c+1]=u,i[c+2]=u,i[c+3]=255}t.bindTexture(t.TEXTURE_2D,r.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,640,480,0,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,640,480),t.useProgram(n.program),au(t,n,this.quadBufferInfo),bo(n,{u_input:r.texture}),lu(t,this.quadBufferInfo)}}class a_ extends bn{get sigmaSmall(){return this.uniforms.u_sigmaSmall}set sigmaSmall(t){this.uniforms.u_sigmaSmall=t}get sigmaLarge(){return this.uniforms.u_sigmaLarge}set sigmaLarge(t){this.uniforms.u_sigmaLarge=t}}const l_=`#version 300 es
precision highp float;

in vec2 v_uv;

/*
  u_input is always bound by the pipeline
  and represents the CURRENT frame.
*/
uniform sampler2D u_input;

uniform sampler2D u_frame1;
uniform sampler2D u_frame2;
uniform sampler2D u_frame3;
uniform sampler2D u_frame4;

out vec4 outColor;

/*
  Exact median of 5 values.
  Deterministic, branchless.
*/
float median5(
    float v0,
    float v1,
    float v2,
    float v3,
    float v4
) {
    float a = min(v0, v1);
    float b = max(v0, v1);
    float c = min(v2, v3);
    float d = max(v2, v3);

    float e = max(a, c);
    float f = min(b, d);

    float g = min(e, f);
    float h = max(e, f);

    return max(min(h, v4), g);
}

void main() {
    float value0 = texture(u_input,  v_uv).r;
    float value1 = texture(u_frame1, v_uv).r;
    float value2 = texture(u_frame2, v_uv).r;
    float value3 = texture(u_frame3, v_uv).r;
    float value4 = texture(u_frame4, v_uv).r;

    float medianValue =
        median5(value0, value1, value2, value3, value4);

    outColor = vec4(medianValue, medianValue, medianValue, 1.0);
}
`;class u_ extends xn{programInfo;outputRenderTarget;history=[];historyWriteIndex=0;historyInitialized=!1;constructor(t,n){super(t,n),this.programInfo=this.createProgramInfo(l_),this.outputRenderTarget=Z.createR8(t),this.history=[Z.createR8(t),Z.createR8(t),Z.createR8(t),Z.createR8(t)]}ensureHistorySized(t,n){for(const r of this.history)(r.framebufferInfo.width!==t||r.framebufferInfo.height!==n)&&r.resize(t,n)}copyToHistory(t){const n=this.gl,r=this.history[this.historyWriteIndex];n.bindFramebuffer(n.READ_FRAMEBUFFER,t.framebufferInfo.framebuffer),n.bindTexture(n.TEXTURE_2D,r.texture),n.copyTexSubImage2D(n.TEXTURE_2D,0,0,0,0,0,t.framebufferInfo.width,t.framebufferInfo.height),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),this.historyWriteIndex=(this.historyWriteIndex+1)%this.history.length}seedHistory(t){for(let n=0;n<this.history.length;n++)this.historyWriteIndex=n,this.copyToHistory(t);this.historyInitialized=!0}applyInternal(t,n){if(!t.isR8)throw new Error("TemporalPass expects R8 or RGBA8 render targets");return this.ensureHistorySized(t.framebufferInfo.width,t.framebufferInfo.height),(this.outputRenderTarget.framebufferInfo.width!==t.framebufferInfo.width||this.outputRenderTarget.framebufferInfo.height!==t.framebufferInfo.height)&&this.outputRenderTarget.resize(t.framebufferInfo.width,t.framebufferInfo.height),this.historyInitialized||this.seedHistory(t),this.settings.uniforms.u_frame1=this.history[0].texture,this.settings.uniforms.u_frame2=this.history[1].texture,this.settings.uniforms.u_frame3=this.history[2].texture,this.settings.uniforms.u_frame4=this.history[3].texture,this.executeProgram(this.programInfo,t,n?null:this.outputRenderTarget),this.copyToHistory(t),this.outputRenderTarget}}class c_ extends bn{}const f_=`#version 300 es
precision highp float;

in vec2 v_uv;

uniform sampler2D u_input;
uniform vec2 u_corners[4];
uniform float u_thickness;

out vec4 outColor;

float segmentDistance(vec2 p, vec2 a, vec2 b) {
    vec2 ab = b - a;
    float t = clamp(dot(p - a, ab) / dot(ab, ab), 0.0, 1.0);
    vec2 closest = a + t * ab;
    return length(p - closest);
}

void main() {
    vec4 base = texture(u_input, v_uv);

    vec2 p = v_uv;
    float d0 = segmentDistance(p, u_corners[0], u_corners[1]);
    float d1 = segmentDistance(p, u_corners[1], u_corners[2]);
    float d2 = segmentDistance(p, u_corners[2], u_corners[3]);
    float d3 = segmentDistance(p, u_corners[3], u_corners[0]);

    float minDist = min(min(d0, d1), min(d2, d3));

    float edge = step(u_thickness, minDist);
    float mask = 1.0 - edge;

    outColor = mix(base, vec4(1.0, 1.0, 1.0, 1.0), mask);
}
`;class d_ extends xn{boxProgramInfo;outputRenderTarget;pixelBuffer=null;pixelChannels=0;lastBox=null;constructor(t,n){super(t,n),this.boxProgramInfo=this.createProgramInfo(f_),this.outputRenderTarget=Z.createRGBA8(t)}ensurePixelBuffer(t,n,r){const s=t*n*r;(!this.pixelBuffer||this.pixelBuffer.length!==s)&&(this.pixelBuffer=new Uint8Array(s)),this.pixelChannels=r}readPixelsToBuffer(t){const n=t.framebufferInfo.width,r=t.framebufferInfo.height,s=t.isR8,o=s?this.gl.RED:this.gl.RGBA,a=s?1:4;return this.ensurePixelBuffer(n,r,a),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t.framebufferInfo.framebuffer),this.gl.readPixels(0,0,n,r,o,this.gl.UNSIGNED_BYTE,this.pixelBuffer),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),{width:n,height:r}}sampleMax3x3(t,n,r,s){if(!this.pixelBuffer)return 0;const o=Math.round(t),a=Math.round(n);let i=0;for(let l=-1;l<=1;l++)for(let u=-1;u<=1;u++){const c=Math.max(0,Math.min(r-1,o+u)),h=Math.max(0,Math.min(s-1,a+l)),d=((s-1-h)*r+c)*this.pixelChannels,m=this.pixelBuffer[d]/255;m>i&&(i=m)}return i}findRayHits(t,n,r,s,o){const a=(t-1)*.5,i=(n-1)*.5,l=[];for(let u=0;u<s;u++){const c=u/s*Math.PI*2,h=Math.cos(c),f=Math.sin(c),d=h>0?(t-1-a)/h:h<0?-a/h:1/0,m=f>0?(n-1-i)/f:f<0?-i/f:1/0,_=Math.min(d,m);if(isFinite(_))for(let v=_;v>=0;v-=o){const x=a+h*v,E=i+f*v;if(this.sampleMax3x3(x,E,t,n)>=r){l.push({x:x/(t-1),y:E/(n-1)});break}}}return l}computeOBBCorners(t,n){if(t.length<4)return[{x:.5-.25,y:.5-.25},{x:.5+.25,y:.5-.25},{x:.5+.25,y:.5+.25},{x:.5-.25,y:.5+.25}];let r=0,s=0;for(const y of t)r+=y.x,s+=y.y;r/=t.length,s/=t.length;let o=0,a=0,i=0;for(const y of t){const F=y.x-r,B=y.y-s;o+=F*F,a+=F*B,i+=B*B}const l=o+i,u=o*i-a*a,c=Math.sqrt(Math.max(0,l*l-4*u)),h=(l+c)*.5;let f=a,d=h-o;const m=Math.hypot(f,d)||1;f/=m,d/=m;const _=-d,v=f,x=[],E=[];for(const y of t){const F=y.x-r,B=y.y-s;x.push(F*f+B*d),E.push(F*_+B*v)}x.sort((y,F)=>y-F),E.sort((y,F)=>y-F);const g=Math.floor(x.length*Math.min(Math.max(n,0),.45)),R=x[g],b=x[x.length-1-g],T=E[g],A=E[E.length-1-g],I=[{x:r+R*f+T*_,y:s+R*d+T*v},{x:r+b*f+T*_,y:s+b*d+T*v},{x:r+b*f+A*_,y:s+b*d+A*v},{x:r+R*f+A*_,y:s+R*d+A*v}];for(const y of I)y.x=Math.max(0,Math.min(1,y.x)),y.y=Math.max(0,Math.min(1,y.y));return I}applyInternal(t,n){const r=this.settings,{width:s,height:o}=this.readPixelsToBuffer(t),a=this.findRayHits(s,o,r.threshold,Math.max(32,r.rayCount),r.step),i=this.computeOBBCorners(a,r.trimFraction);return this.lastBox={corners:i},this.settings.uniforms.u_corners=[i[0].x,1-i[0].y,i[1].x,1-i[1].y,i[2].x,1-i[2].y,i[3].x,1-i[3].y],this.settings.uniforms.u_thickness=1.5/Math.max(s,o),this.settings.uniforms.u_input=t.texture,this.executeProgram(this.boxProgramInfo,t,n?null:this.outputRenderTarget),this.outputRenderTarget}}class h_ extends bn{_threshold=.2;_rayCount=64;_step=.5;_trimFraction=.12;_angleThreshold=0;_distanceThreshold=0;get threshold(){return this._threshold}set threshold(t){this._threshold=t}get rayCount(){return this._rayCount}set rayCount(t){this._rayCount=t}get step(){return this._step}set step(t){this._step=t}get trimFraction(){return this._trimFraction}set trimFraction(t){this._trimFraction=t}get angleThreshold(){return this._angleThreshold}set angleThreshold(t){this._angleThreshold=t}get distanceThreshold(){return this._distanceThreshold}set distanceThreshold(t){this._distanceThreshold=t}}class ha extends Xm{passes;passMap;rayBoxPass;constructor(t){super(t);const n=new jm(this.gl),r=new Jm;r.flipX=!1,r.flipY=!1;const s=new Zm(this.gl,r),o=new c_;o.enabled=!0;const a=new u_(this.gl,o),i=new Km;i.kernelRadius=2,i.sigmaSpatial=2,i.sigmaRange=.1;const l=new qm(this.gl,i),u=new a_;u.sigmaSmall=1.4,u.sigmaLarge=2.8;const c=new i_(this.gl,u),h=new h_;h.threshold=.12,h.rayCount=64,h.step=.5,h.trimFraction=.12,this.rayBoxPass=new d_(this.gl,h),this.passes=[{id:"rec709-luma",label:"Rec709 Luma",required:!0,pass:n},{id:"orientation",label:"Orientation",required:!1,pass:s},{id:"temporal",label:"Temporal Median",required:!1,pass:a},{id:"bilateral",label:"Bilateral",required:!1,pass:l},{id:"sobel",label:"Structure",required:!1,pass:c},{id:"ray-box",label:"Ray Box",required:!1,pass:this.rayBoxPass}],this.passMap=new Map(this.passes.map(f=>[f.id,f]));for(const f of this.passes)this.addPass(f.pass)}getPass(t){return this.passMap.get(t)?.pass}postprocess(){return{box:this.rayBoxPass.lastBox}}}class an{constructor(t){this.mediaStreamTrack=t,this.imageCapture=new ImageCapture(t)}static _imageCaptureContexts=new Map;static _initialized=!1;static get imageCaptureContexts(){if(!an._initialized)throw new Error("ImageCaptureContext not initialized. Call ImageCaptureContext.initialize() first.");return an._imageCaptureContexts}imageCapture;static async initialize(){await this.refreshVideoTracks(),this._initialized=!0}static async refreshVideoTracks(){await navigator.mediaDevices.getUserMedia({video:!0});const n=(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput"),r=new Set;for(const s of n){const a=(await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:s.deviceId}}})).getVideoTracks()[0];r.add(a.id),this._imageCaptureContexts.has(a.id)||this._imageCaptureContexts.set(a.id,new an(a))}for(const[s]of this._imageCaptureContexts)r.has(s)||this._imageCaptureContexts.delete(s)}}var m_=ne('<button type="button" role="tab"> </button>'),__=ne('<div class="passBar" role="tablist" aria-label="Pipeline passes"></div>');function v_(e,t){pe(t,!1);let n=q(t,"passes",24,()=>[]),r=q(t,"selectedPassId",8);const s=Os();He();var o=__();Es(o,5,n,a=>a.id,(a,i)=>{var l=m_();let u;var c=G(l);Se(()=>{u=Rs(l,1,"passButton",null,u,{passButtonActive:r()===p(i).id}),nr(l,"aria-selected",(ke(r()),p(i),Fe(()=>r()===p(i).id))),Je(c,(p(i),Fe(()=>p(i).label)))}),sn("click",l,()=>s("select",{passId:p(i).id})),U(a,l)}),U(e,o),xe()}var p_=ne('<label class="setting"><div class="settingLabel"> </div> <div class="settingControl sliderControl svelte-2wv2v5"><div class="sliderShell svelte-2wv2v5"><div class="sliderTrack svelte-2wv2v5"><input class="sliderInput svelte-2wv2v5" type="range"/></div> <div class="settingValue svelte-2wv2v5"> </div></div></div></label>');function Me(e,t){pe(t,!1);let n=q(t,"label",8),r=q(t,"min",8),s=q(t,"max",8),o=q(t,"step",8),a=q(t,"value",8);const i=Os();He();var l=p_(),u=G(l),c=G(u),h=H(u,2),f=G(h),d=G(f),m=G(d),_=H(d,2),v=G(_);Se(()=>{Je(c,n()),nr(m,"min",r()),nr(m,"max",s()),nr(m,"step",o()),ef(m,a()),Je(v,a())}),sn("input",m,x=>i("input",{value:Number(x.currentTarget.value)})),U(e,l),xe()}var x_=ne('<label class="setting toggleSetting"><div class="settingLabel"> </div> <div class="settingControl"><input type="checkbox"/></div></label>');function ct(e,t){pe(t,!1);let n=q(t,"label",8),r=q(t,"checked",8);const s=Os();He();var o=x_(),a=G(o),i=G(a),l=H(a,2),u=G(l);Se(()=>{Je(i,n()),tf(u,r())}),sn("change",u,c=>s("change",{checked:c.currentTarget.checked})),U(e,o),xe()}var b_=ne('<div class="settings"><!> <!> <!> <!></div>');function g_(e,t){pe(t,!1);let n=q(t,"settings",12),r=q(t,"required",8,!1);const s=5,o=2,a=.5,i=s/3;let l=N(n().enabled),u=N(n().kernelRadius),c=N(n().sigmaSpatial),h=N(n().sigmaRange);function f(y,F,B){return Math.max(F,Math.min(B,y))}function d(y){return Math.ceil(3*y)}function m(y){return y/3}function _(y){S(l,y),n(n().enabled=y,!0)}function v(y){const F=f(Math.round(y),o,s),B=m(F),K=Math.min(n().sigmaSpatial,B);S(u,F),S(c,K),n(n().kernelRadius=F,!0),n(n().sigmaSpatial=K,!0)}function x(y){const F=f(y,a,i),B=d(F),K=f(B,o,s);S(c,F),S(u,K),n(n().sigmaSpatial=F,!0),n(n().kernelRadius=K,!0)}function E(y){S(h,y),n(n().sigmaRange=y,!0)}Nt(()=>ke(n()),()=>{n()&&(S(l,n().enabled),S(u,n().kernelRadius),S(c,n().sigmaSpatial),S(h,n().sigmaRange))}),kt(),He();var g=b_(),R=G(g);{var b=y=>{ct(y,{label:"Enabled",get checked(){return p(l)},$$events:{change:F=>_(F.detail.checked)}})};oe(R,y=>{r()||y(b)})}var T=H(R,2);Me(T,{label:"Kernel Radius",min:o,max:s,step:1,get value(){return p(u)},$$events:{input:y=>v(y.detail.value)}});var A=H(T,2);Me(A,{label:"Sigma Spatial",min:a,max:i,step:.1,get value(){return p(c)},$$events:{input:y=>x(y.detail.value)}});var I=H(A,2);Me(I,{label:"Sigma Range",min:.01,max:.5,step:.01,get value(){return p(h)},$$events:{input:y=>E(y.detail.value)}}),U(e,g),xe()}var E_=ne('<div class="settings"><div class="settingsEmpty">Rec709 is required and has no settings.</div></div>');function y_(e){var t=E_();U(e,t)}var R_=ne('<div class="settings"><!> <!> <!></div>');function S_(e,t){pe(t,!1);let n=q(t,"settings",12),r=q(t,"required",8,!1),s=N(n().enabled),o=N(n().sigmaSmall),a=N(n().sigmaLarge);function i(_){S(s,_),n(n().enabled=_,!0)}function l(_){S(o,_),n(n().sigmaSmall=_,!0)}function u(_){S(a,_),n(n().sigmaLarge=_,!0)}Nt(()=>ke(n()),()=>{n()&&(S(s,n().enabled),S(o,n().sigmaSmall),S(a,n().sigmaLarge))}),kt(),He();var c=R_(),h=G(c);{var f=_=>{ct(_,{label:"Enabled",get checked(){return p(s)},$$events:{change:v=>i(v.detail.checked)}})};oe(h,_=>{r()||_(f)})}var d=H(h,2);Me(d,{label:"Sigma Small",min:1,max:1.8,step:.05,get value(){return p(o)},$$events:{input:_=>l(_.detail.value)}});var m=H(d,2);Me(m,{label:"Sigma Large",min:2,max:3,step:.05,get value(){return p(a)},$$events:{input:_=>u(_.detail.value)}}),U(e,c),xe()}var T_=ne('<div class="settings"><!> <!></div>');function A_(e,t){pe(t,!1);let n=q(t,"settings",12),r=q(t,"required",8,!1),s=N(n().enabled),o=N(n().threshold);function a(f){S(s,f),n(n().enabled=f,!0)}function i(f){S(o,f),n(n().threshold=f,!0)}Nt(()=>ke(n()),()=>{n()&&(S(s,n().enabled),S(o,n().threshold))}),kt(),He();var l=T_(),u=G(l);{var c=f=>{ct(f,{label:"Enabled",get checked(){return p(s)},$$events:{change:d=>a(d.detail.checked)}})};oe(u,f=>{r()||f(c)})}var h=H(u,2);Me(h,{label:"Threshold",min:0,max:.5,step:.005,get value(){return p(o)},$$events:{input:f=>i(f.detail.value)}}),U(e,l),xe()}var F_=ne('<div class="settings"><!> <div class="settingsEmpty">Uses last 4 frames (median). No tunable parameters.</div></div>');function w_(e,t){pe(t,!1);let n=q(t,"settings",12),r=q(t,"required",8,!1),s=N(n().enabled);function o(u){S(s,u),n(n().enabled=u,!0)}Nt(()=>ke(n()),()=>{n()&&S(s,n().enabled)}),kt(),He();var a=F_(),i=G(a);{var l=u=>{ct(u,{label:"Enabled",get checked(){return p(s)},$$events:{change:c=>o(c.detail.checked)}})};oe(i,u=>{r()||u(l)})}U(e,a),xe()}var I_=ne('<div class="settings"><!> <!> <!> <!> <!></div>');function P_(e,t){pe(t,!1);let n=q(t,"settings",12),r=q(t,"required",8,!1),s=N(n().enabled),o=N(n().threshold),a=N(n().rayCount),i=N(n().step),l=N(n().trimFraction);function u(b){S(s,b),n(n().enabled=b,!0)}function c(b){S(o,b),n(n().threshold=b,!0)}function h(b){S(a,b),n(n().rayCount=b,!0)}function f(b){S(i,b),n(n().step=b,!0)}function d(b){S(l,b),n(n().trimFraction=b,!0)}Nt(()=>ke(n()),()=>{n()&&(S(s,n().enabled),S(o,n().threshold),S(a,n().rayCount),S(i,n().step),S(l,n().trimFraction))}),kt(),He();var m=I_(),_=G(m);{var v=b=>{ct(b,{label:"Enabled",get checked(){return p(s)},$$events:{change:T=>u(T.detail.checked)}})};oe(_,b=>{r()||b(v)})}var x=H(_,2);Me(x,{label:"Threshold",min:0,max:.5,step:.005,get value(){return p(o)},$$events:{input:b=>c(b.detail.value)}});var E=H(x,2);Me(E,{label:"Ray Count",min:32,max:256,step:8,get value(){return p(a)},$$events:{input:b=>h(Math.round(b.detail.value))}});var g=H(E,2);Me(g,{label:"Step (px)",min:.25,max:5,step:.25,get value(){return p(i)},$$events:{input:b=>f(b.detail.value)}});var R=H(g,2);Me(R,{label:"Trim Fraction",min:0,max:.4,step:.01,get value(){return p(l)},$$events:{input:b=>d(b.detail.value)}}),U(e,m),xe()}var C_=ne('<div class="settings"><!> <!> <!></div>');function B_(e,t){pe(t,!1);let n=q(t,"settings",12),r=q(t,"required",8,!1),s=N(n().enabled),o=N(n().flipX),a=N(n().flipY);function i(_){S(s,_),n(n().enabled=_,!0)}function l(_){S(o,_),n(n().flipX=_,!0)}function u(_){S(a,_),n(n().flipY=_,!0)}Nt(()=>ke(n()),()=>{n()&&(S(s,n().enabled),S(o,n().flipX),S(a,n().flipY))}),kt(),He();var c=C_(),h=G(c);{var f=_=>{ct(_,{label:"Enabled",get checked(){return p(s)},$$events:{change:v=>i(v.detail.checked)}})};oe(h,_=>{r()||_(f)})}var d=H(h,2);ct(d,{label:"Flip X",get checked(){return p(o)},$$events:{change:_=>l(_.detail.checked)}});var m=H(d,2);ct(m,{label:"Flip Y",get checked(){return p(a)},$$events:{change:_=>u(_.detail.checked)}}),U(e,c),xe()}var D_=ne('<div class="fpsBadge svelte-1dp3x29" aria-label="Frames per second"> </div>');function M_(e,t){pe(t,!1);let n=N(0),r=0,s=performance.now();function o(){const u=performance.now();r+=1;const c=u-s;c>=500&&(S(n,Math.round(r*1e3/c)),r=0,s=u)}var a={measure:o},i=D_(),l=G(i);return Se(()=>Je(l,`${p(n)??""} fps`)),U(e,i),rf(t,"measure",o),xe(a)}var N_=ne('<div class="toast svelte-1fk2ial" role="status"> </div>');function k_(e,t){pe(t,!1);let n=q(t,"message",8,""),r=q(t,"open",12,!1),s=q(t,"duration",8,2e3),o=N(null);Nt(()=>(ke(r()),p(o),ke(s())),()=>{r()&&(p(o)&&clearTimeout(p(o)),S(o,setTimeout(()=>r(!1),s())))}),kt();var a=ae(),i=ie(a);{var l=u=>{var c=N_(),h=G(c);Se(()=>Je(h,n())),Wc(3,c,()=>r_,()=>({y:10,duration:150})),U(u,c)};oe(i,u=>{r()&&u(l)})}U(e,a),xe()}const L_={"rec709-luma":{enabled:!0},orientation:{enabled:!0,flipX:!0,flipY:!1},temporal:{enabled:!0},bilateral:{enabled:!0,kernelRadius:2,sigmaSpatial:2,sigmaRange:.1},sobel:{enabled:!1,sigmaSmall:1.4,sigmaLarge:2.8},"ray-box":{enabled:!1}},U_={passes:L_},G_={"rec709-luma":{enabled:!0},orientation:{enabled:!0,flipX:!0,flipY:!1},temporal:{enabled:!0},bilateral:{enabled:!0,kernelRadius:2,sigmaSpatial:2,sigmaRange:.1},sobel:{enabled:!0,sigmaSmall:1.4,sigmaLarge:2.8},"ray-box":{enabled:!1}},O_={passes:G_};var H_=ne("<option> </option>"),V_=ne("<option> </option>"),z_=ne('<div class="errorBanner svelte-1n46o8q" role="alert"> </div>'),X_=ne('<main class="app svelte-1n46o8q"><section class="controls svelte-1n46o8q"><div class="controlRow svelte-1n46o8q"><div class="sideSwitcher svelte-1n46o8q" role="group" aria-label="Side selector"><button type="button">Front</button> <button type="button">Rear</button></div> <!> <button class="exportButton svelte-1n46o8q" type="button">Export</button></div> <!></section> <section class="views svelte-1n46o8q"><div class="cameraPanel svelte-1n46o8q"><div class="cameraHeader svelte-1n46o8q"><div class="cameraTitle svelte-1n46o8q">Front</div> <select class="cameraSelect svelte-1n46o8q"><option disabled>Select inputâ¦</option><!></select></div> <canvas class="cameraCanvas svelte-1n46o8q"></canvas></div> <div class="cameraPanel svelte-1n46o8q"><div class="cameraHeader svelte-1n46o8q"><div class="cameraTitle svelte-1n46o8q">Rear</div> <select class="cameraSelect svelte-1n46o8q"><option disabled>Select inputâ¦</option><!></select></div> <canvas class="cameraCanvas svelte-1n46o8q"></canvas></div></section> <!> <!> <!></main>');function $_(e,t){pe(t,!1);const n={"rec709-luma":y_,bilateral:g_,sobel:S_,"magnatude-gate":A_,temporal:w_,"ray-box":P_,orientation:B_};let r=N(""),s=new Map,o=N([]),a=N(""),i=N(""),l=N("front"),u=N(null),c=N(null),h=N(null),f=N(null),d=N([]),m=N(null),_=!1,v=!1,x=N(null),E=N(!1),g=N("");function R(){S(o,Array.from(s.entries()).map(([w,P])=>({id:w,label:`${P.mediaStreamTrack.label||"Camera"} (${w})`})))}async function b(){await an.initialize(),s=an.imageCaptureContexts,R(),!p(a)&&p(o)[0]&&S(a,p(o)[0].id),!p(i)&&p(o)[1]&&S(i,p(o)[1].id),!p(i)&&p(o)[0]&&S(i,p(o)[0].id)}function T(w,P){const M=P?.getPass(w);return M?M.settings:null}function A(w,P){const M=P?.passes??{};for(const V of w.passes){const k=M[V.id];if(k){typeof k.enabled=="boolean"&&(V.pass.enabled=k.enabled);for(const[Vt,Or]of Object.entries(k))Vt!=="enabled"&&Vt in V.pass.settings&&(V.pass.settings[Vt]=Or)}}}function I(w){const P={};for(const M of w.passes){const V={enabled:M.pass.enabled},k=M.pass.settings;switch(M.id){case"bilateral":V.kernelRadius=k.kernelRadius,V.sigmaSpatial=k.sigmaSpatial,V.sigmaRange=k.sigmaRange;break;case"sobel":V.kernelRadius=k.kernelRadius,V.directionBias=k.directionBias,V.edgeGain=k.edgeGain,V.minEdge=k.minEdge;break;case"magnatude-gate":V.threshold=k.threshold;break;case"temporal":break;case"orientation":V.flipX=k.flipX,V.flipY=k.flipY;break;case"ray-box":V.threshold=k.threshold,V.rayCount=k.rayCount,V.step=k.step,V.trimFraction=k.trimFraction;break}P[M.id]=V}return{passes:P}}async function y(w){const P=p(w==="front"?h:f);if(!P)return;const M=JSON.stringify(I(P),null,2);await navigator.clipboard.writeText(M),S(g,`Exported ${w} settings to clipboard`),S(E,!0)}async function F(w,P){if(!w||!P)return;const M=s.get(P);if(!M)return;const V=await M.imageCapture.grabFrame();try{await w.render(V)}finally{V.close()}}async function B(){if(_){if(v){p(x)?.measure(),requestAnimationFrame(()=>{B()});return}v=!0;try{p(x)?.measure(),await F(p(h),p(a)),await F(p(f),p(i)),S(m,null)}catch(w){S(m,w instanceof Error?w.message:String(w))}finally{v=!1,requestAnimationFrame(()=>{B()})}}}ja(async()=>{try{if(await b(),!p(u)||!p(c)){S(m,"Canvas not available for one or both views.");return}S(h,new ha(p(u))),S(f,new ha(p(c))),p(h)&&A(p(h),U_),p(f)&&A(p(f),O_),S(d,p(h).passes),S(r,p(d)[0]?.id??""),_=!0,B()}catch(w){S(m,w instanceof Error?w.message:String(w))}}),of(()=>{_=!1}),He();var K=X_(),Q=G(K),me=G(Q),be=G(me),Ie=G(be);let Xe;var $e=H(Ie,2);let Ye;var pt=H(be,2);{let w=st(()=>p(d).map(P=>({id:P.id,label:P.label})));v_(pt,{get passes(){return p(w)},get selectedPassId(){return p(r)},$$events:{select:P=>S(r,P.detail.passId)}})}var Ut=H(pt,2),Gt=H(me,2);{var Ot=w=>{const P=st(()=>p(d).find(yn=>yn.id===p(r))),M=st(()=>p(P)?n[p(P).id]:null),V=st(()=>p(l)==="front"?p(h):p(f)),k=st(()=>p(P)?T(p(P).id,p(V)):null);var Vt=ae(),Or=ie(Vt);{var gu=yn=>{var Ao=ae(),Eu=ie(Ao);{var yu=zt=>{var Rn=ae(),Hr=ie(Rn);gt(Hr,()=>p(M),(Vr,zr)=>{zr(Vr,{get required(){return p(P).required},get settings(){return p(k)}})}),U(zt,Rn)},Ru=zt=>{var Rn=ae(),Hr=ie(Rn);{var Vr=Xt=>{var Sn=ae(),Xr=ie(Sn);gt(Xr,()=>p(M),($r,Yr)=>{Yr($r,{get required(){return p(P).required},get settings(){return p(k)}})}),U(Xt,Sn)},zr=Xt=>{var Sn=ae(),Xr=ie(Sn);{var $r=$t=>{var Tn=ae(),qr=ie(Tn);gt(qr,()=>p(M),(Kr,Wr)=>{Wr(Kr,{get required(){return p(P).required},get settings(){return p(k)}})}),U($t,Tn)},Yr=$t=>{var Tn=ae(),qr=ie(Tn);{var Kr=Yt=>{var An=ae(),jr=ie(An);gt(jr,()=>p(M),(Qr,Zr)=>{Zr(Qr,{get required(){return p(P).required},get settings(){return p(k)}})}),U(Yt,An)},Wr=Yt=>{var An=ae(),jr=ie(An);{var Qr=qt=>{var Fn=ae(),Jr=ie(Fn);gt(Jr,()=>p(M),(es,ts)=>{ts(es,{get required(){return p(P).required},get settings(){return p(k)}})}),U(qt,Fn)},Zr=qt=>{var Fn=ae(),Jr=ie(Fn);{var es=Kt=>{var wn=ae(),ns=ie(wn);gt(ns,()=>p(M),(rs,ss)=>{ss(rs,{get required(){return p(P).required},get settings(){return p(k)}})}),U(Kt,wn)},ts=Kt=>{var wn=ae(),ns=ie(wn);gt(ns,()=>p(M),(rs,ss)=>{ss(rs,{get required(){return p(P).required}})}),U(Kt,wn)};oe(Jr,Kt=>{p(P).id==="ray-box"?Kt(es):Kt(ts,!1)},!0)}U(qt,Fn)};oe(jr,qt=>{p(P).id==="temporal"?qt(Qr):qt(Zr,!1)},!0)}U(Yt,An)};oe(qr,Yt=>{p(P).id==="magnatude-gate"?Yt(Kr):Yt(Wr,!1)},!0)}U($t,Tn)};oe(Xr,$t=>{p(P).id==="orientation"?$t($r):$t(Yr,!1)},!0)}U(Xt,Sn)};oe(Hr,Xt=>{p(P).id==="sobel"?Xt(Vr):Xt(zr,!1)},!0)}U(zt,Rn)};oe(Eu,zt=>{p(P).id==="bilateral"?zt(yu):zt(Ru,!1)})}U(yn,Ao)};oe(Or,yn=>{p(P)&&p(M)&&p(k)&&yn(gu)})}U(w,Vt)};oe(Gt,w=>{p(r)&&w(Ot)})}var xt=H(Q,2),bt=G(xt),gn=G(bt),En=H(G(gn),2);Se(()=>{p(a),Do(()=>{p(o)})});var Ht=G(En);Ht.value=Ht.__value="";var Yn=H(Ht);Es(Yn,1,()=>p(o),w=>w.id,(w,P)=>{var M=H_(),V=G(M),k={};Se(()=>{Je(V,p(P).id),k!==(k=p(P).id)&&(M.value=(M.__value=p(P).id)??"")}),U(w,M)});var j=H(gn,2);os(j,w=>S(u,w),()=>p(u));var _u=H(bt,2),yo=G(_u),Ro=H(G(yo),2);Se(()=>{p(i),Do(()=>{p(o)})});var Gr=G(Ro);Gr.value=Gr.__value="";var vu=H(Gr);Es(vu,1,()=>p(o),w=>w.id,(w,P)=>{var M=V_(),V=G(M),k={};Se(()=>{Je(V,p(P).id),k!==(k=p(P).id)&&(M.value=(M.__value=p(P).id)??"")}),U(w,M)});var pu=H(yo,2);os(pu,w=>S(c,w),()=>p(c));var So=H(xt,2);{var xu=w=>{var P=z_(),M=G(P);Se(()=>Je(M,p(m))),U(w,P)};oe(So,w=>{p(m)&&w(xu)})}var To=H(So,2);os(M_(To,{$$legacy:!0}),w=>S(x,w),()=>p(x));var bu=H(To,2);k_(bu,{get message(){return p(g)},get open(){return p(E)},set open(w){S(E,w)},$$legacy:!0}),Se(()=>{Xe=Rs(Ie,1,"svelte-1n46o8q",null,Xe,{sideActive:p(l)==="front"}),Ye=Rs($e,1,"svelte-1n46o8q",null,Ye,{sideActive:p(l)==="rear"})}),sn("click",Ie,()=>S(l,"front")),sn("click",$e,()=>S(l,"rear")),sn("click",Ut,()=>y(p(l))),Ho(En,()=>p(a),w=>S(a,w)),Ho(Ro,()=>p(i),w=>S(i,w)),U(e,K),xe()}Gc($_,{target:document.getElementById("app")});
